{
"version":3,
"file":"module$node_modules$$codemirror$view$dist$index_cjs.js",
"lineCount":403,
"mappings":"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",
"sources":["node_modules/@codemirror/view/dist/index.cjs"],
"sourcesContent":["shadow$provide[\"module$node_modules$$codemirror$view$dist$index_cjs\"] = function(global,require,module,exports) {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar state = require('@codemirror/state');\nvar styleMod = require('style-mod');\nvar w3cKeyname = require('w3c-keyname');\n\nfunction getSelection(root) {\n    let target;\n    // Browsers differ on whether shadow roots have a getSelection\n    // method. If it exists, use that, otherwise, call it on the\n    // document.\n    if (root.nodeType == 11) { // Shadow root\n        target = root.getSelection ? root : root.ownerDocument;\n    }\n    else {\n        target = root;\n    }\n    return target.getSelection();\n}\nfunction contains(dom, node) {\n    return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement() {\n    let elt = document.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nfunction scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {\n    let doc = dom.ownerDocument, win = doc.defaultView;\n    for (let cur = dom; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (y == \"nearest\") {\n                if (rect.top < bounding.top) {\n                    moveY = -(bounding.top - rect.top + yMargin);\n                    if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                        moveY = rect.bottom - bounding.bottom + moveY + yMargin;\n                }\n                else if (rect.bottom > bounding.bottom) {\n                    moveY = rect.bottom - bounding.bottom + yMargin;\n                    if (side < 0 && (rect.top - moveY) < bounding.top)\n                        moveY = -(bounding.top + moveY - rect.top + yMargin);\n                }\n            }\n            else {\n                let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                let targetTop = y == \"center\" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 :\n                    y == \"start\" || y == \"center\" && side < 0 ? rect.top - yMargin :\n                        rect.bottom - boundingHeight + yMargin;\n                moveY = targetTop - bounding.top;\n            }\n            if (x == \"nearest\") {\n                if (rect.left < bounding.left) {\n                    moveX = -(bounding.left - rect.left + xMargin);\n                    if (side > 0 && rect.right > bounding.right + moveX)\n                        moveX = rect.right - bounding.right + moveX + xMargin;\n                }\n                else if (rect.right > bounding.right) {\n                    moveX = rect.right - bounding.right + xMargin;\n                    if (side < 0 && rect.left < bounding.left + moveX)\n                        moveX = -(bounding.left + moveX - rect.left + xMargin);\n                }\n            }\n            else {\n                let targetLeft = x == \"center\" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 :\n                    (x == \"start\") == ltr ? rect.left - xMargin :\n                        rect.right - (bounding.right - bounding.left) + xMargin;\n                moveX = targetLeft - bounding.left;\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        moveY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        moveX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - moveX, top: rect.top - moveY,\n                        right: rect.right - moveX, bottom: rect.bottom - moveY };\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n            x = y = \"nearest\";\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nclass DOMSelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    setRange(range) {\n        this.set(range.anchorNode, range.anchorOffset, range.focusNode, range.focusOffset);\n    }\n    set(anchorNode, anchorOffset, focusNode, focusOffset) {\n        this.anchorNode = anchorNode;\n        this.anchorOffset = anchorOffset;\n        this.focusNode = focusNode;\n        this.focusOffset = focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nfunction getRoot(node) {\n    while (node) {\n        if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n            return node;\n        node = node.assignedSlot || node.parentNode;\n    }\n    return null;\n}\nfunction clearAttributes(node) {\n    while (node.attributes.length)\n        node.removeAttributeNode(node.attributes[0]);\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst noChildren = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        if (this.dirty & 2 /* Node */) {\n            let parent = this.dom;\n            let prev = null, next;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {\n                        let contentView = ContentView.get(next);\n                        if (!contentView || !contentView.parent && contentView.constructor == child.constructor)\n                            child.reuseDOM(next);\n                    }\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n                next = prev ? prev.nextSibling : parent.firstChild;\n                if (track && !track.written && track.node == parent && next != child.dom)\n                    track.written = true;\n                if (child.dom.parentNode == parent) {\n                    while (next && next != child.dom)\n                        next = rm$1(next);\n                }\n                else {\n                    parent.insertBefore(child.dom, next);\n                }\n                prev = child.dom;\n            }\n            next = prev ? prev.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm$1(next);\n        }\n        else if (this.dirty & 1 /* Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.dirty |= 2 /* Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Node */;\n            if (parent.dirty & 1 /* Child */)\n                return;\n            parent.dirty |= 1 /* Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = noChildren) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.destroy();\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n    get isEditable() { return true; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        return false;\n    }\n    become(other) { return false; }\n    // When this is a zero-length view with a side, this should return a\n    // number <= 0 to indicate it is before its position, or a\n    // number > 0 when after its position.\n    getSide() { return 0; }\n    destroy() {\n        this.parent = null;\n    }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm$1(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\nfunction replaceRange(parent, fromI, fromOff, toI, toOff, insert, breakAtStart, openStart, openEnd) {\n    let { children } = parent;\n    let before = children.length ? children[fromI] : null;\n    let last = insert.length ? insert[insert.length - 1] : null;\n    let breakAtEnd = last ? last.breakAfter : breakAtStart;\n    // Change within a single child\n    if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert.length < 2 &&\n        before.merge(fromOff, toOff, insert.length ? last : null, fromOff == 0, openStart, openEnd))\n        return;\n    if (toI < children.length) {\n        let after = children[toI];\n        // Make sure the end of the child after the update is preserved in `after`\n        if (after && toOff < after.length) {\n            // If we're splitting a child, separate part of it to avoid that\n            // being mangled when updating the child before the update.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                insert[insert.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                insert.push(after);\n            }\n        }\n        else if (after === null || after === void 0 ? void 0 : after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n    }\n    if (before) {\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && insert.length && before.merge(fromOff, before.length, insert[0], false, openStart, 0)) {\n                before.breakAfter = insert.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n    }\n    // Try to merge widgets on the boundaries of the replacement\n    while (fromI < toI && insert.length) {\n        if (children[toI - 1].become(insert[insert.length - 1])) {\n            toI--;\n            insert.pop();\n            openEnd = insert.length ? 0 : openStart;\n        }\n        else if (children[fromI].become(insert[0])) {\n            fromI++;\n            insert.shift();\n            openStart = insert.length ? 0 : openEnd;\n        }\n        else {\n            break;\n        }\n    }\n    if (!insert.length && fromI && toI < children.length && !children[fromI - 1].breakAfter &&\n        children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))\n        fromI--;\n    if (fromI < toI || insert.length)\n        parent.replaceChildren(fromI, toI, insert);\n}\nfunction mergeChildrenInto(parent, from, to, insert, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of insert)\n        dLen += view.length;\n    parent.length += dLen;\n    replaceRange(parent, fromI, fromOff, toI, toOff, insert, 0, openStart, openEnd);\n}\n\nlet nav = typeof navigator != \"undefined\" ? navigator : { userAgent: \"\", vendor: \"\", platform: \"\" };\nlet doc = typeof document != \"undefined\" ? document : { documentElement: { style: {} } };\nconst ie_edge = /Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /Apple Computer/.test(nav.vendor);\nconst ios = safari && (/Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\nvar browser = {\n    mac: ios || /Mac/.test(nav.platform),\n    windows: /Win/.test(nav.platform),\n    linux: /Linux|X11/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios,\n    android: /Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst MaxJoinLen = 256;\nclass TextView extends ContentView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType == 3)\n            this.createDOM(dom);\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        this.markDirty();\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends ContentView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    setAttrs(dom) {\n        clearAttributes(dom);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        return dom;\n    }\n    reuseDOM(node) {\n        if (node.nodeName == this.mark.tagName.toUpperCase()) {\n            this.setDOM(node);\n            this.dirty |= 4 /* Attrs */ | 2 /* Node */;\n        }\n    }\n    sync(track) {\n        if (!this.dom)\n            this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));\n        else if (this.dirty & 4 /* Attrs */)\n            this.setAttrs(this.dom);\n        super.sync(track);\n    }\n    merge(from, to, source, _hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.split(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1) {\n            this.children.length = detachFrom;\n            this.markDirty();\n        }\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else if (to < length) {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else if (to < length)\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect || null;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends ContentView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n        this.prevWidget = null;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    split(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                if (this.dom && !this.prevWidget)\n                    this.prevWidget = this.widget;\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return state.Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : state.Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return (pos == 0 && side > 0 || pos == this.length && side <= 0) ? rect : flattenRect(rect, pos == 0);\n    }\n    get isEditable() { return false; }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return new DOMPos(text, Math.min(pos, text.nodeValue.length));\n        return scanCompositionTree(pos, 0, topView, text, (v, p) => v.domAtPos(p), p => new DOMPos(text, Math.min(p, text.nodeValue.length)));\n    }\n    sync() { this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return Math.min(offset, this.length);\n        return posFromDOMInCompositionTree(node, offset, topView, text);\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return textCoords(text, pos, side);\n        return scanCompositionTree(pos, side, topView, text, (v, pos, side) => v.coordsAt(pos, side), (pos, side) => textCoords(text, pos, side));\n    }\n    destroy() {\n        var _a;\n        super.destroy();\n        (_a = this.widget.topView) === null || _a === void 0 ? void 0 : _a.destroy();\n    }\n    get isEditable() { return true; }\n}\n// Uses the old structure of a chunk of content view frozen for\n// composition to try and find a reasonable DOM location for the given\n// offset.\nfunction scanCompositionTree(pos, side, view, text, enterView, fromText) {\n    if (view instanceof MarkView) {\n        for (let child of view.children) {\n            let hasComp = contains(child.dom, text);\n            let len = hasComp ? text.nodeValue.length : child.length;\n            if (pos < len || pos == len && child.getSide() <= 0)\n                return hasComp ? scanCompositionTree(pos, side, child, text, enterView, fromText) : enterView(child, pos, side);\n            pos -= len;\n        }\n        return enterView(view, view.length, -1);\n    }\n    else if (view.dom == text) {\n        return fromText(pos, side);\n    }\n    else {\n        return enterView(view, pos, side);\n    }\n}\nfunction posFromDOMInCompositionTree(node, offset, view, text) {\n    if (view instanceof MarkView) {\n        for (let child of view.children) {\n            let pos = 0, hasComp = contains(child.dom, text);\n            if (contains(child.dom, node))\n                return pos + (hasComp ? posFromDOMInCompositionTree(node, offset, child, text) : child.localPosFromDOM(node, offset));\n            pos += hasComp ? text.nodeValue.length : child.length;\n        }\n    }\n    else if (view.dom == text) {\n        return Math.min(offset, text.nodeValue.length);\n    }\n    return view.localPosFromDOM(node, offset);\n}\n// These are drawn around uneditable widgets to avoid a number of\n// browser bugs that show up when the cursor is directly next to\n// uneditable inline content.\nclass WidgetBufferView extends ContentView {\n    constructor(side) {\n        super();\n        this.side = side;\n    }\n    get length() { return 0; }\n    merge() { return false; }\n    become(other) {\n        return other instanceof WidgetBufferView && other.side == this.side;\n    }\n    split() { return new WidgetBufferView(this.side); }\n    sync() {\n        if (!this.dom) {\n            let dom = document.createElement(\"img\");\n            dom.className = \"cm-widgetBuffer\";\n            dom.setAttribute(\"aria-hidden\", \"true\");\n            this.setDOM(dom);\n        }\n    }\n    getSide() { return this.side; }\n    domAtPos(pos) { return DOMPos.before(this.dom); }\n    localPosFromDOM() { return 0; }\n    domBoundsAround() { return null; }\n    coordsAt(pos) {\n        let imgRect = this.dom.getBoundingClientRect();\n        // Since the <img> height doesn't correspond to text height, try\n        // to borrow the height from some sibling node.\n        let siblingRect = inlineSiblingRect(this, this.side > 0 ? -1 : 1);\n        return siblingRect && siblingRect.top < imgRect.bottom && siblingRect.bottom > imgRect.top\n            ? { left: imgRect.left, right: imgRect.right, top: siblingRect.top, bottom: siblingRect.bottom } : imgRect;\n    }\n    get overrideDOMText() {\n        return state.Text.empty;\n    }\n}\nTextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;\nfunction inlineSiblingRect(view, side) {\n    let parent = view.parent, index = parent ? parent.children.indexOf(view) : -1;\n    while (parent && index >= 0) {\n        if (side < 0 ? index > 0 : index < parent.children.length) {\n            let next = parent.children[index + side];\n            if (next instanceof TextView) {\n                let nextRect = next.coordsAt(side < 0 ? next.length : 0, side);\n                if (nextRect)\n                    return nextRect;\n            }\n            index += side;\n        }\n        else if (parent instanceof MarkView && parent.parent) {\n            index = parent.parent.children.indexOf(parent) + (side < 0 ? 0 : 1);\n            parent = parent.parent;\n        }\n        else {\n            let last = parent.dom.lastChild;\n            if (last && last.nodeName == \"BR\")\n                return last.getClientRects()[0];\n            break;\n        }\n    }\n    return undefined;\n}\nfunction inlineDOMAtPos(dom, children, pos) {\n    let i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (; i > 0; i--) {\n        let before = children[i - 1].dom;\n        if (before.parentNode == dom)\n            return DOMPos.after(before);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    for (let off = 0, i = 0; i < view.children.length; i++) {\n        let child = view.children[i], end = off + child.length, next;\n        if ((side <= 0 || end == view.length || child.getSide() > 0 ? end >= pos : end > pos) &&\n            (pos < end || i + 1 == view.children.length || (next = view.children[i + 1]).length || next.getSide() > 0)) {\n            let flatten = 0;\n            if (end == off) {\n                if (child.getSide() <= 0)\n                    continue;\n                flatten = side = -child.getSide();\n            }\n            let rect = child.coordsAt(Math.max(0, pos - off), side);\n            return flatten && rect ? flattenRect(rect, side < 0) : rect;\n        }\n        off = end;\n    }\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1] || null;\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    let changed = null;\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(changed = name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(changed = name, attrs[name]);\n    return !!changed;\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even if the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(event) { return true; }\n    /**\n    @internal\n    */\n    get customView() { return null; }\n    /**\n    This is called when the an instance of the widget is removed\n    from the editor view.\n    */\n    destroy(dom) { }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nexports.BlockType = void 0;\n(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\n})(exports.BlockType || (exports.BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#state.Range), which adds a start and end position.\n@nonabstract\n*/\nclass Decoration extends state.RangeValue {\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with\n    the higher-precedence decorations creating the inner DOM nodes.\n    Such elements are split on line boundaries and on the boundaries\n    of lower-precedence decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which displays a DOM element at the\n    given position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0, block = !!spec.block;\n        side += block ? (side > 0 ? 300000000 /* BlockAfter */ : -400000000 /* BlockBefore */) : (side > 0 ? 100000000 /* InlineAfter */ : -100000000 /* InlineBefore */);\n        return new PointDecoration(spec, side, side, block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block, startSide, endSide;\n        if (spec.isBlockGap) {\n            startSide = -500000000 /* GapStart */;\n            endSide = 400000000 /* GapEnd */;\n        }\n        else {\n            let { start, end } = getInclusive(spec, block);\n            startSide = (start ? (block ? -300000000 /* BlockIncStart */ : -1 /* InlineIncStart */) : 500000000 /* NonIncStart */) - 1;\n            endSide = (end ? (block ? 200000000 /* BlockIncEnd */ : 1 /* InlineIncEnd */) : -600000000 /* NonIncEnd */) + 1;\n        }\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return state.RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = state.RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(start ? -1 /* InlineIncStart */ : 500000000 /* NonIncStart */, end ? 1 /* InlineIncEnd */ : -600000000 /* NonIncEnd */, null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-200000000 /* Line */, -200000000 /* Line */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = state.MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? state.MapMode.TrackDel : startSide <= 0 ? state.MapMode.TrackBefore : state.MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? exports.BlockType.WidgetRange\n            : this.startSide <= 0 ? exports.BlockType.WidgetBefore : exports.BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide <= 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec, block = false) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin >= from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (hasStart)\n            this.setDeco(source ? source.attrs : null);\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].split(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, false, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0)\n            this.children[--i].destroy();\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        this.markDirty();\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes, cls = deco.spec.class;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n        if (cls)\n            this.attrs = combineAttrs({ class: cls }, this.attrs || {});\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    reuseDOM(node) {\n        if (node.nodeName == \"DIV\") {\n            this.setDOM(node);\n            this.dirty |= 4 /* Attrs */ | 2 /* Node */;\n        }\n    }\n    sync(track) {\n        var _a;\n        if (!this.dom) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        else if (this.dirty & 4 /* Attrs */) {\n            clearAttributes(this.dom);\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last || !this.length ||\n            last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return { lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    become(_other) { return false; }\n    get type() { return exports.BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0; i < docView.children.length; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (end > pos)\n                    break;\n            }\n            off = end + block.breakAfter;\n        }\n        return null;\n    }\n}\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n        this.prevWidget = null;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        let end = new BlockWidgetView(this.widget, len, this.type);\n        end.breakAfter = this.breakAfter;\n        return end;\n    }\n    get children() { return noChildren; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : state.Text.empty;\n    }\n    domBoundsAround() { return null; }\n    become(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            if (this.dom && !this.prevWidget)\n                this.prevWidget = this.widget;\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end, disallowBlockEffectsFor) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.disallowBlockEffectsFor = disallowBlockEffectsFor;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.pendingBuffer = 0 /* No */;\n        // Set to false directly after a widget that covers the position after it\n        this.atCursorPos = true;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == exports.BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine) {\n            this.content.push(this.curLine = new LineView);\n            this.atCursorPos = true;\n        }\n        return this.curLine;\n    }\n    flushBuffer(active) {\n        if (this.pendingBuffer) {\n            this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n            this.pendingBuffer = 0 /* No */;\n        }\n    }\n    addBlockWidget(view) {\n        this.flushBuffer([]);\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish(openEnd) {\n        if (!openEnd)\n            this.flushBuffer([]);\n        else\n            this.pendingBuffer = 0 /* No */;\n        if (!this.posCovered())\n            this.getLine();\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.flushBuffer([]);\n                    this.curLine = null;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* Chunk */);\n            this.flushBuffer(active.slice(0, openStart));\n            this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.atCursorPos = true;\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart, index) {\n        if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {\n            if (deco.block)\n                throw new RangeError(\"Block decorations may not be specified via plugins\");\n            if (to > this.doc.lineAt(this.pos).to)\n                throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\");\n        }\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == exports.BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let view = WidgetView.create(deco.widget || new NullWidget(\"span\"), len, deco.startSide);\n                let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from < to || deco.startSide > 0);\n                let cursorAfter = !view.isEditable && (from < to || deco.startSide <= 0);\n                let line = this.getLine();\n                if (this.pendingBuffer == 2 /* IfCursor */ && !cursorBefore)\n                    this.pendingBuffer = 0 /* No */;\n                this.flushBuffer(active);\n                if (cursorBefore) {\n                    line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                    openStart = active.length + Math.max(0, openStart - active.length);\n                }\n                line.append(wrapMarks(view, active), openStart);\n                this.atCursorPos = cursorAfter;\n                this.pendingBuffer = !cursorAfter ? 0 /* No */ : from < to ? 1 /* Yes */ : 2 /* IfCursor */;\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations, dynamicDecorationMap) {\n        let builder = new ContentBuilder(text, from, to, dynamicDecorationMap);\n        builder.openEnd = state.RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish(builder.openEnd);\n        return builder;\n    }\n}\nfunction wrapMarks(view, active) {\n    for (let mark of active)\n        view = new MarkView(mark, [view], view.length);\n    return view;\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst clickAddsSelectionRange = state.Facet.define();\nconst dragMovesSelection$1 = state.Facet.define();\nconst mouseSelectionStyle = state.Facet.define();\nconst exceptionSink = state.Facet.define();\nconst updateListener = state.Facet.define();\nconst inputHandler = state.Facet.define();\nconst perLineTextDirection = state.Facet.define({\n    combine: values => values.some(x => x)\n});\nclass ScrollTarget {\n    constructor(range, y = \"nearest\", x = \"nearest\", yMargin = 5, xMargin = 5) {\n        this.range = range;\n        this.y = y;\n        this.x = x;\n        this.yMargin = yMargin;\n        this.xMargin = xMargin;\n    }\n    map(changes) {\n        return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin);\n    }\n}\nconst scrollIntoView = state.StateEffect.define({ map: (t, ch) => t.map(ch) });\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = state.Facet.define({ combine: values => values.length ? values[0] : true });\nlet nextPluginID = 0;\nconst viewPlugin = state.Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    domEventHandlers, buildExtensions) {\n        this.id = id;\n        this.create = create;\n        this.domEventHandlers = domEventHandlers;\n        this.extension = buildExtensions(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        const { eventHandlers, provide, decorations: deco } = spec || {};\n        return new ViewPlugin(nextPluginID++, create, eventHandlers, plugin => {\n            let ext = [viewPlugin.of(plugin)];\n            if (deco)\n                ext.push(decorations.of(view => {\n                    let pluginInst = view.plugin(plugin);\n                    return pluginInst ? deco(pluginInst) : Decoration.none;\n                }));\n            if (provide)\n                ext.push(provide(plugin));\n            return ext;\n        });\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    update(view) {\n        if (!this.value) {\n            if (this.spec) {\n                try {\n                    this.value = this.spec.create(view);\n                }\n                catch (e) {\n                    logException(view.state, e, \"CodeMirror plugin crashed\");\n                    this.deactivate();\n                }\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (this.value.update) {\n                try {\n                    this.value.update(update);\n                }\n                catch (e) {\n                    logException(update.state, e, \"CodeMirror plugin crashed\");\n                    if (this.value.destroy)\n                        try {\n                            this.value.destroy();\n                        }\n                        catch (_) { }\n                    this.deactivate();\n                }\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n    deactivate() {\n        this.spec = this.value = null;\n    }\n}\nconst editorAttributes = state.Facet.define();\nconst contentAttributes = state.Facet.define();\n// Provide decorations\nconst decorations = state.Facet.define();\nconst atomicRanges = state.Facet.define();\nconst scrollMargins = state.Facet.define();\nconst styleModule = state.Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state$1, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions) {\n        this.view = view;\n        this.state = state$1;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = state.ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* Focus */;\n        }\n    }\n    /**\n    @internal\n    */\n    static create(view, state, transactions) {\n        return new ViewUpdate(view, state, transactions);\n    }\n    /**\n    Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n    [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n    update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* Viewport */) > 0;\n    }\n    /**\n    Indicates whether the height of a block element in the editor\n    changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* Height */) > 0;\n    }\n    /**\n    Returns true when the document was modified or the size of the\n    editor, or elements within the editor, changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (8 /* Geometry */ | 2 /* Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return !this.changes.empty;\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nexports.Direction = void 0;\n(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\n})(exports.Direction || (exports.Direction = {}));\nconst LTR = exports.Direction.LTR, RTL = exports.Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = p.charCodeAt(0), r = p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* NI */ :\n                        ch == 0x200c ? 256 /* NI */ : 1 /* L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* L */ : 2 /* R */, oppositeType = direction == LTR ? 2 /* R */ : 1 /* L */;\n    if (!line || outerType == 1 /* L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* NSM */)\n            type = prev;\n        else if (type == 8 /* EN */ && prevStrong == 4 /* AL */)\n            type = 16 /* AN */;\n        types[i] = type == 4 /* AL */ ? 2 /* R */ : type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* NI */;\n        }\n        else if (type == 64 /* ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* ET */)\n                end++;\n            let replace = (i && prev == 8 /* EN */) || (end < len && types[end] == 8 /* EN */) ? (prevStrong == 1 /* L */ ? 1 /* L */ : 8 /* EN */) : 256 /* NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* EN */ && prevStrong == 1 /* L */) {\n            types[i] = 1 /* L */;\n        }\n        prev = type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* EmbedInside */) ? outerType :\n                            !(flags & 4 /* OppositeInside */) ? 0 :\n                                (flags & 1 /* OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* R */ || type == 1 /* L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* L */ : 2 /* R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* L */;\n            while (i < len && rtl == (types[i] != 1 /* L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* R */;\n                    while (j > start && l == (types[j - 1] != 2 /* R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* R */;\n            while (i < len && rtl == (types[i] == 2 /* R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = state.findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return state.EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return state.EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return state.EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return state.EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nconst LineBreakPlaceholder = \"\\uffff\";\nclass DOMReader {\n    constructor(points, state$1) {\n        this.points = points;\n        this.text = \"\";\n        this.lineSeparator = state$1.facet(state.EditorState.lineSeparator);\n    }\n    append(text) {\n        this.text += text;\n    }\n    lineBreak() {\n        this.text += LineBreakPlaceholder;\n    }\n    readRange(start, end) {\n        if (!start)\n            return this;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if (view && nextView ? view.breakAfter :\n                (view ? view.breakAfter : isBlockElement(cur)) ||\n                    (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore)))\n                this.lineBreak();\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n        return this;\n    }\n    readTextNode(node) {\n        let text = node.nodeValue;\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, text.length);\n        for (let off = 0, re = this.lineSeparator ? null : /\\r\\n?|\\n/g;;) {\n            let nextBreak = -1, breakSize = 1, m;\n            if (this.lineSeparator) {\n                nextBreak = text.indexOf(this.lineSeparator, off);\n                breakSize = this.lineSeparator.length;\n            }\n            else if (m = re.exec(text)) {\n                nextBreak = m.index;\n                breakSize = m[0].length;\n            }\n            this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));\n            if (nextBreak < 0)\n                break;\n            this.lineBreak();\n            if (breakSize > 1)\n                for (let point of this.points)\n                    if (point.node == node && point.pos > this.text.length)\n                        point.pos -= breakSize - 1;\n            off = nextBreak + breakSize;\n        }\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        if (fromView != null) {\n            this.findPointInside(node, fromView.length);\n            for (let i = fromView.iter(); !i.next().done;) {\n                if (i.lineBreak)\n                    this.lineBreak();\n                else\n                    this.append(i.value);\n            }\n        }\n        else if (node.nodeType == 3) {\n            this.readTextNode(node);\n        }\n        else if (node.nodeName == \"BR\") {\n            if (node.nextSibling)\n                this.lineBreak();\n        }\n        else if (node.nodeType == 1) {\n            this.readRange(node.firstChild, null);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointInside(node, maxLen) {\n        for (let point of this.points)\n            if (node.nodeType == 3 ? point.node == node : node.contains(point.node))\n                point.pos = this.text.length + Math.min(maxLen, point.offset);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        this.dynamicDecorationMap = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // measureVisibleLineHeights, this is updated to point at the width\n        // of a given element and its extent in the document. When a change\n        // happens in that range, these are reset. That way, once we've seen\n        // a line/element of a given length, we keep the editor wide enough\n        // to fit at least that element, until it is changed, at which point\n        // we forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.forceSelection = false;\n        // Used by the resize observer to ignore resizes that we caused\n        // ourselves\n        this.lastUpdate = Date.now();\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateDeco();\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0);\n    }\n    get root() { return this.view.root; }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = this.minWidthFrom = this.minWidthTo = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length || this.dirty)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        if ((browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines)\n            this.forceSelection = true;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        if (this.dirty == 0 /* Not */ && changedRanges.length == 0) {\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, update.startState.doc.length);\n            if (update.transactions.length)\n                this.lastUpdate = Date.now();\n            return true;\n        }\n    }\n    // Used by update and the constructor do perform the actual DOM\n    // update\n    updateInner(changes, oldLength) {\n        this.view.viewState.mustMeasureContent = true;\n        this.updateChildren(changes, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.contentHeight + \"px\";\n            this.dom.style.flexBasis = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                this.forceSelection = true;\n            this.dom.style.height = \"\";\n        });\n        let gaps = [];\n        if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n            for (let child of this.children)\n                if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                    gaps.push(child.dom);\n        observer.updateGaps(gaps);\n    }\n    updateChildren(changes, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            replaceRange(this, fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(mustRead = false, fromPointer = false) {\n        if (mustRead || !this.view.observer.selectionRange.focusNode)\n            this.view.observer.readSelectionRange();\n        if (!(fromPointer || this.mayControlSelection()) ||\n            browser.ios && this.view.inputState.rapidCompositionStart)\n            return;\n        let force = this.forceSelection;\n        this.forceSelection = false;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                // Chrome Android will hide the virtual keyboard when tapping\n                // inside an uneditable node, and not bring it back when we\n                // move the cursor to its proper position. This tries to\n                // restore the keyboard by cycling focus.\n                if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) &&\n                    inUneditable(domSel.focusNode, this.dom)) {\n                    this.dom.blur();\n                    this.dom.focus({ preventScroll: true });\n                }\n                let rawSel = getSelection(this.root);\n                if (!rawSel) ;\n                else if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* Before */ | 2 /* After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    rawSel.extend(head.node, head.offset);\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.compositionDeco.size)\n            return;\n        let cursor = this.view.state.selection.main;\n        let sel = getSelection(this.root);\n        if (!sel || !cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n    }\n    mayControlSelection() {\n        let active = this.root.activeElement;\n        return active == this.dom ||\n            hasSelection(this.dom, this.view.observer.selectionRange) && !(active && this.dom.contains(active));\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != exports.BlockType.WidgetBefore && child.type != exports.BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == exports.BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights(viewport) {\n        let result = [], { from, to } = viewport;\n        let contentWidth = this.view.contentDOM.clientWidth;\n        let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        let widest = -1, ltr = this.view.textDirection == exports.Direction.LTR;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                let childRect = child.dom.getBoundingClientRect();\n                result.push(childRect.height);\n                if (isWider) {\n                    let last = child.dom.lastChild;\n                    let rects = last ? clientRectsFor(last) : [];\n                    if (rects.length) {\n                        let rect = rects[rects.length - 1];\n                        let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;\n                        if (width > widest) {\n                            widest = width;\n                            this.minWidth = contentWidth;\n                            this.minWidthFrom = pos;\n                            this.minWidthTo = end;\n                        }\n                    }\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    textDirectionAt(pos) {\n        let { i } = this.childPos(pos, 1);\n        return getComputedStyle(this.children[i].dom).direction == \"rtl\" ? exports.Direction.RTL : exports.Direction.LTR;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.style.width = \"99999px\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top;\n                deco.push(Decoration.replace({\n                    widget: new BlockGapWidget(height),\n                    block: true,\n                    inclusive: true,\n                    isBlockGap: true,\n                }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        let allDeco = this.view.state.facet(decorations).map((d, i) => {\n            let dynamic = this.dynamicDecorationMap[i] = typeof d == \"function\";\n            return dynamic ? d(this.view) : d;\n        });\n        for (let i = allDeco.length; i < allDeco.length + 3; i++)\n            this.dynamicDecorationMap[i] = false;\n        return this.decorations = [\n            ...allDeco,\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollIntoView(target) {\n        let { range } = target;\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.state.facet(scrollMargins).map(f => f(this.view)))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        let targetRect = {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        };\n        scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, target.xMargin, target.yMargin, this.view.textDirection == exports.Direction.LTR);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction compositionSurroundingNode(view) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return null;\n    let cView = view.docView.nearest(textNode);\n    if (!cView)\n        return null;\n    if (cView instanceof LineView) {\n        let topNode = textNode;\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        let pos = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n        return { from: pos, to: pos, node: topNode, text: textNode };\n    }\n    else {\n        for (;;) {\n            let { parent } = cView;\n            if (!parent)\n                return null;\n            if (parent instanceof LineView)\n                break;\n            cView = parent;\n        }\n        let from = cView.posAtStart;\n        return { from, to: from + cView.length, node: cView.dom, text: textNode };\n    }\n}\nfunction computeCompositionDeco(view, changes) {\n    let surrounding = compositionSurroundingNode(view);\n    if (!surrounding)\n        return Decoration.none;\n    let { from, to, node, text: textNode } = surrounding;\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let { state } = view, text = node.nodeType == 3 ? node.nodeValue :\n        new DOMReader([], state).readRange(node.firstChild, null).text;\n    if (newTo - newFrom < text.length) {\n        if (state.doc.sliceString(newFrom, Math.min(state.doc.length, newFrom + text.length), LineBreakPlaceholder) == text)\n            newTo = newFrom + text.length;\n        else if (state.doc.sliceString(Math.max(0, newTo - text.length), newTo, LineBreakPlaceholder) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.doc.sliceString(newFrom, newTo, LineBreakPlaceholder) != text) {\n        return Decoration.none;\n    }\n    let topView = ContentView.get(node);\n    if (topView instanceof CompositionView)\n        topView = topView.widget.topView;\n    else if (topView)\n        topView.parent = null;\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(node, textNode, topView), inclusive: true })\n        .range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text, topView) {\n        super();\n        this.top = top;\n        this.text = text;\n        this.topView = topView;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    state.RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\nfunction inUneditable(node, inside) {\n    for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n        if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction groupAt(state$1, pos, bias = 1) {\n    let categorize = state$1.charCategorizer(pos);\n    let line = state$1.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return state.EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = state.findClusterBreak(line.text, linePos, false);\n    else\n        to = state.findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = state.findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = state.findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return state.EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (!closestX && closest.contentEditable == \"true\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    var _a;\n    let content = view.contentDOM.getBoundingClientRect(), docTop = content.top + view.viewState.paddingTop;\n    let block, { docHeight } = view.viewState;\n    let yOffset = y - docTop;\n    if (yOffset < 0)\n        return 0;\n    if (yOffset > docHeight)\n        return view.state.doc.length;\n    // Scan for a text block near the queried y position\n    for (let halfLine = view.defaultLineHeight / 2, bounced = false;;) {\n        block = view.elementAtHeight(yOffset);\n        if (block.type == exports.BlockType.Text)\n            break;\n        for (;;) {\n            // Move the y position out of this block\n            yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n            if (yOffset >= 0 && yOffset <= docHeight)\n                break;\n            // If the document consists entirely of replaced widgets, we\n            // won't find a text block, so return 0\n            if (bounced)\n                return precise ? null : 0;\n            bounced = true;\n            bias = -bias;\n        }\n    }\n    y = docTop + yOffset;\n    let lineStart = block.from;\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length :\n            precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n    let doc = view.dom.ownerDocument;\n    let root = view.root.elementFromPoint ? view.root : doc;\n    let element = root.elementFromPoint(x, y);\n    if (element && !view.contentDOM.contains(element))\n        element = null;\n    // If the element is unexpected, clip x at the sides of the content area and try again\n    if (!element) {\n        x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n        element = root.elementFromPoint(x, y);\n        if (element && !view.contentDOM.contains(element))\n            element = null;\n    }\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n        if (doc.caretPositionFromPoint) {\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (doc.caretRangeFromPoint) {\n            let range = doc.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (browser.safari && isSuspiciousCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        if (!line)\n            return yOffset > block.top + block.height / 2 ? block.to : block.from;\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + state.findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let direction = view.textDirectionAt(line.from);\n        let pos = view.posAtCoords({ x: forward == (direction == exports.Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return state.EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return state.EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    let direction = view.textDirectionAt(line.from);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, direction, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = state.EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == state.CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return state.EditorSelection.cursor(startPos, start.assoc);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos), docTop = view.documentTop;\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineBlockAt(startPos);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = (dir < 0 ? line.top : line.bottom) + docTop;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return state.EditorSelection.cursor(pos, start.assoc, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.state.facet(atomicRanges).map(f => f(view));\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.from > pos.from ? state.EditorSelection.cursor(from, 1) : state.EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.chromeScrollHack = -1;\n        // On iOS, some keys need to have their default behavior happen\n        // (after which we retroactively handle them and reset the DOM) to\n        // avoid messing up the virtual keyboard state.\n        this.pendingIOSKey = undefined;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        this.compositionEndedAt = 0;\n        this.rapidCompositionStart = false;\n        this.mouseSelection = null;\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, (event) => {\n                if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))\n                    return;\n                if (type == \"keydown\" && this.keydown(view, event))\n                    return;\n                if (this.mustFlushObserver(event))\n                    view.observer.forceFlush();\n                if (this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            });\n            this.registeredEvents.push(type);\n        }\n        if (browser.chrome && browser.chrome_version >= 102) {\n            // On Chrome 102, viewport updates somehow stop wheel-based\n            // scrolling. Turning off pointer events during the scroll seems\n            // to avoid the issue.\n            view.scrollDOM.addEventListener(\"wheel\", () => {\n                if (this.chromeScrollHack < 0)\n                    view.contentDOM.style.pointerEvents = \"none\";\n                else\n                    window.clearTimeout(this.chromeScrollHack);\n                this.chromeScrollHack = setTimeout(() => {\n                    this.chromeScrollHack = -1;\n                    view.contentDOM.style.pointerEvents = \"\";\n                }, 100);\n            }, { passive: true });\n        }\n        this.notifiedFocused = view.hasFocus;\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view, plugins) {\n        var _a;\n        let handlers;\n        this.customHandlers = [];\n        for (let plugin of plugins)\n            if (handlers = (_a = plugin.update(view).spec) === null || _a === void 0 ? void 0 : _a.domEventHandlers) {\n                this.customHandlers.push({ plugin: plugin.value, handlers });\n                for (let type in handlers)\n                    if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                        this.registeredEvents.push(type);\n                        view.contentDOM.addEventListener(type, (event) => {\n                            if (!eventBelongsToEditor(view, event))\n                                return;\n                            if (this.runCustomHandlers(type, view, event))\n                                event.preventDefault();\n                        });\n                    }\n            }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type];\n            if (handler) {\n                try {\n                    if (handler.call(set.plugin, event, view) || event.defaultPrevented)\n                        return true;\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (event.keyCode == 9 && Date.now() < this.lastEscPress + 2000)\n            return true;\n        // Chrome for Android usually doesn't fire proper key events, but\n        // occasionally does, usually surrounded by a bunch of complicated\n        // composition changes. When an enter or backspace key event is\n        // seen, hold off on handling DOM events for a bit, and then\n        // dispatch it.\n        if (browser.android && browser.chrome && !event.synthetic &&\n            (event.keyCode == 13 || event.keyCode == 8)) {\n            view.observer.delayAndroidKey(event.key, event.keyCode);\n            return true;\n        }\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        let pending;\n        if (browser.ios && (pending = PendingKeys.find(key => key.keyCode == event.keyCode)) &&\n            !(event.ctrlKey || event.altKey || event.metaKey) && !event.synthetic) {\n            this.pendingIOSKey = pending;\n            setTimeout(() => this.flushIOSKey(view), 250);\n            return true;\n        }\n        return false;\n    }\n    flushIOSKey(view) {\n        let key = this.pendingIOSKey;\n        if (!key)\n            return false;\n        this.pendingIOSKey = undefined;\n        return dispatchKey(view.contentDOM, key.key, key.keyCode);\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && Date.now() - this.compositionEndedAt < 100) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    mustFlushObserver(event) {\n        return (event.type == \"keydown\" && event.keyCode != 229) ||\n            event.type == \"compositionend\" && !browser.ios;\n    }\n    startMouseSelection(mouseSelection) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = mouseSelection;\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\nconst PendingKeys = [\n    { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n    { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n];\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nclass MouseSelection {\n    constructor(view, startEvent, style, mustSelect) {\n        this.view = view;\n        this.style = style;\n        this.mustSelect = mustSelect;\n        this.lastEvent = startEvent;\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(state.EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.view.inputState.mouseSelection = null;\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (this.mustSelect || !selection.eq(this.view.state.selection) ||\n            selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\",\n                scrollIntoView: true\n            });\n        this.mustSelect = false;\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (!sel || sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API\u2014all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state: state$1 } = view, changes, i = 1, text = state$1.toText(input);\n    let byLine = text.lines == state$1.selection.ranges.length;\n    let linewise = lastLinewiseCopy != null && state$1.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state$1.changeByRange(range => {\n            let line = state$1.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state$1.toText((byLine ? text.line(i++).text : input) + state$1.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: state.EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state$1.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: state.EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state$1.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n    if (event.keyCode == 27)\n        view.inputState.lastEscPress = Date.now();\n    else if (modifierCodes.indexOf(event.keyCode) < 0)\n        view.inputState.lastEscPress = 0;\n};\nlet lastTouch = 0;\nhandlers.touchstart = (view, e) => {\n    lastTouch = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (lastTouch > Date.now() - 2000 && getClickType(event) == 1)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        let mustFocus = view.root.activeElement != view.contentDOM;\n        if (mustFocus)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return state.EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return state.EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    let last = start, lastEvent = event;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                if (start)\n                    start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n                lastEvent = null;\n            }\n        },\n        get(event, extend, multiple) {\n            let cur;\n            if (lastEvent && event.clientX == lastEvent.clientX && event.clientY == lastEvent.clientY)\n                cur = last;\n            else {\n                cur = last = queryPos(view, event);\n                lastEvent = event;\n            }\n            if (!cur || !start)\n                return startSel;\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? state.EditorSelection.range(from, to) : state.EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return state.EditorSelection.create([range]);\n        }\n    };\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    if (!text)\n        return;\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return;\n    if (view.state.readOnly)\n        return event.preventDefault();\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return event.preventDefault();\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        doPaste(view, data.getData(\"text/plain\"));\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text && !linewise)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n};\nfunction updateForFocusChange(view) {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n}\nhandlers.focus = updateForFocusChange;\nhandlers.blur = view => {\n    view.observer.clearSelectionRange();\n    updateForFocusChange(view);\n};\nfunction forceClearComposition(view, rapid) {\n    if (view.docView.compositionDeco.size) {\n        view.inputState.rapidCompositionStart = rapid;\n        try {\n            view.update([]);\n        }\n        finally {\n            view.inputState.rapidCompositionStart = false;\n        }\n    }\n}\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n        if (view.docView.compositionDeco.size) {\n            view.observer.flush();\n            forceClearComposition(view, true);\n        }\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionFirstChange = null;\n    setTimeout(() => {\n        if (view.inputState.composing < 0)\n            forceClearComposition(view, false);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\nhandlers.beforeinput = (view, event) => {\n    var _a;\n    // Because Chrome Android doesn't fire useful key events, use\n    // beforeinput to detect backspace (and possibly enter and delete,\n    // but those usually don't even seem to fire beforeinput events at\n    // the moment) and fake a key event for it.\n    //\n    // (preventDefault on beforeinput, though supported in the spec,\n    // seems to do nothing at all on Chrome).\n    let pending;\n    if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n        view.observer.delayAndroidKey(pending.key, pending.keyCode);\n        if (pending.key == \"Backspace\" || pending.key == \"Delete\") {\n            let startViewHeight = ((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0;\n            setTimeout(() => {\n                var _a;\n                // Backspacing near uneditable nodes on Chrome Android sometimes\n                // closes the virtual keyboard. This tries to crudely detect\n                // that and refocus to get it back.\n                if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                    view.contentDOM.blur();\n                    view.focus();\n                }\n            }, 100);\n        }\n    }\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\", \"break-spaces\"];\nclass HeightOracle {\n    constructor() {\n        this.doc = state.Text.empty;\n        this.lineWrapping = false;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefreshForWrapping(whiteSpace) {\n        return (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping;\n    }\n    mustRefreshForHeights(lineHeights) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight;\n    }\n    refresh(whiteSpace, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;\n        this.lineWrapping = lineWrapping;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element (relative to the top of the\n    document).\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType;\n(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\n})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-3;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Outdated */ : 0) | (this.flags & ~2 /* Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        if (from <= offset + this.length && to >= offset)\n            f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, exports.BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, exports.BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, exports.BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, exports.BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, exports.BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;\n            let wasChanged = oracle.heightChanged;\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let height = measured.heights[measured.index++];\n                if (singleHeight == -1)\n                    singleHeight = height;\n                else if (Math.abs(height - singleHeight) >= Epsilon)\n                    singleHeight = -2;\n                let line = new HeightMapText(len, height);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            let result = HeightMap.of(nodes);\n            oracle.heightChanged = wasChanged || singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon ||\n                Math.abs(singleHeight - this.lines(oracle.doc, offset).lineHeight) >= Epsilon;\n            return result;\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? deco.widget.estimatedHeight : 0;\n            if (height < 0)\n                height = this.oracle.lineHeight;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == exports.BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != exports.BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        state.RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    state.RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let left = Math.max(0, rect.left), right = Math.min(innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(innerHeight, rect.bottom);\n    let body = dom.ownerDocument.body;\n    for (let parent = dom.parentNode; parent && parent != body;) {\n        if (parent.nodeType == 1) {\n            let elt = parent;\n            let style = window.getComputedStyle(elt);\n            if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = elt.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? elt.offsetParent : elt.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: Math.max(left, right) - rect.left,\n        top: top - (rect.top + paddingTop), bottom: Math.max(top, bottom) - (rect.top + paddingTop) };\n}\nfunction fullPixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    return { left: 0, right: rect.right - rect.left,\n        top: paddingTop, bottom: rect.bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ViewState {\n    constructor(state$1) {\n        this.state = state$1;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentDOMWidth = 0;\n        this.contentDOMHeight = 0;\n        this.editorHeight = 0;\n        this.editorWidth = 0;\n        this.heightOracle = new HeightOracle;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTarget = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        // Flag set when editor content was redrawn, so that the next\n        // measure stage knows it must read DOM layout\n        this.mustMeasureContent = true;\n        this.defaultTextDirection = exports.Direction.RTL;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        this.stateDeco = state$1.facet(decorations).filter(d => typeof d != \"function\");\n        this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, state.Text.empty, this.heightOracle.setDoc(state$1.doc), [new ChangedRange(0, 0, 0, state$1.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateViewportLines();\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineBlockAt(pos);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    updateViewportLines() {\n        this.viewportLines = [];\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, block => {\n            this.viewportLines.push(this.scaler.scale == 1 ? block : scaleBlock(block, this.scaler));\n        });\n    }\n    update(update, scrollTarget = null) {\n        this.state = update.state;\n        let prevDeco = this.stateDeco;\n        this.stateDeco = this.state.facet(decorations).filter(d => typeof d != \"function\");\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : state.ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n            !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTarget);\n        let updateLines = !update.changes.empty || (update.flags & 2 /* Height */) ||\n            viewport.from != this.viewport.from || viewport.to != this.viewport.to;\n        this.viewport = viewport;\n        this.updateForViewport();\n        if (updateLines)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 4000 /* DoubleMargin */)\n            this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        update.flags |= this.computeVisibleRanges();\n        if (scrollTarget)\n            this.scrollTarget = scrollTarget;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc)\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(view) {\n        let dom = view.contentDOM, style = window.getComputedStyle(dom);\n        let oracle = this.heightOracle;\n        let whiteSpace = style.whiteSpace;\n        this.defaultTextDirection = style.direction == \"rtl\" ? exports.Direction.RTL : exports.Direction.LTR;\n        let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);\n        let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != dom.clientHeight;\n        this.contentDOMHeight = dom.clientHeight;\n        this.mustMeasureContent = false;\n        let result = 0, bias = 0;\n        // Vertical padding\n        let paddingTop = parseInt(style.paddingTop) || 0, paddingBottom = parseInt(style.paddingBottom) || 0;\n        if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n            this.paddingTop = paddingTop;\n            this.paddingBottom = paddingBottom;\n            result |= 8 /* Geometry */ | 2 /* Height */;\n        }\n        if (this.editorWidth != view.scrollDOM.clientWidth) {\n            if (oracle.lineWrapping)\n                measureContent = true;\n            this.editorWidth = view.scrollDOM.clientWidth;\n            result |= 8 /* Geometry */;\n        }\n        // Pixel viewport\n        let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (inView != this.inView) {\n            this.inView = inView;\n            if (inView)\n                measureContent = true;\n        }\n        if (!this.inView)\n            return 0;\n        let contentWidth = dom.clientWidth;\n        if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {\n            this.contentDOMWidth = contentWidth;\n            this.editorHeight = view.scrollDOM.clientHeight;\n            result |= 8 /* Geometry */;\n        }\n        if (measureContent) {\n            let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);\n            if (oracle.mustRefreshForHeights(lineHeights))\n                refresh = true;\n            if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = view.docView.measureTextSize();\n                refresh = oracle.refresh(whiteSpace, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    view.docView.minWidth = 0;\n                    result |= 8 /* Geometry */;\n                }\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n            oracle.heightChanged = false;\n            for (let vp of this.viewports) {\n                let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);\n                this.heightMap = this.heightMap.updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));\n            }\n            if (oracle.heightChanged)\n                result |= 2 /* Height */;\n        }\n        let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);\n        if (viewportChange)\n            this.viewport = this.getViewport(bias, this.scrollTarget);\n        this.updateForViewport();\n        if ((result & 2 /* Height */) || viewportChange)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 4000 /* DoubleMargin */)\n            this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps));\n        result |= this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            view.docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom); }\n    getViewport(bias, scrollTarget) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTarget is given, make sure the viewport includes that position\n        if (scrollTarget) {\n            let { head } = scrollTarget.range;\n            if (head < viewport.from || head > viewport.to) {\n                let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);\n                let block = map.lineAt(head, QueryType.ByPos, doc, 0, 0), topPos;\n                if (scrollTarget.y == \"center\")\n                    topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                else if (scrollTarget.y == \"start\" || scrollTarget.y == \"nearest\" && head < viewport.from)\n                    topPos = block.top;\n                else\n                    topPos = block.bottom - viewHeight;\n                viewport = new Viewport(map.lineAt(topPos - 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        if (!this.inView)\n            return true;\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* MinCoverMargin */, Math.min(-bias, 250 /* MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* MinCoverMargin */, Math.min(bias, 250 /* MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* Margin */ && bottom < visibleBottom + 2 * 1000 /* Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current) {\n        let gaps = [];\n        // This won't work at all in predominantly right-to-left text.\n        if (this.defaultTextDirection != exports.Direction.LTR)\n            return gaps;\n        for (let line of this.viewportLines) {\n            if (line.length < 4000 /* DoubleMargin */)\n                continue;\n            let structure = lineStructure(line.from, line.to, this.stateDeco);\n            if (structure.total < 4000 /* DoubleMargin */)\n                continue;\n            let viewFrom, viewTo;\n            if (this.heightOracle.lineWrapping) {\n                let marginHeight = (2000 /* Margin */ / this.heightOracle.lineLength) * this.heightOracle.lineHeight;\n                viewFrom = findPosition(structure, (this.visibleTop - line.top - marginHeight) / line.height);\n                viewTo = findPosition(structure, (this.visibleBottom - line.top + marginHeight) / line.height);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                let marginWidth = 2000 /* Margin */ * this.heightOracle.charWidth;\n                viewFrom = findPosition(structure, (this.pixelViewport.left - marginWidth) / totalWidth);\n                viewTo = findPosition(structure, (this.pixelViewport.right + marginWidth) / totalWidth);\n            }\n            let outside = [];\n            if (viewFrom > line.from)\n                outside.push({ from: line.from, to: viewFrom });\n            if (viewTo < line.to)\n                outside.push({ from: viewTo, to: line.to });\n            let sel = this.state.selection.main;\n            // Make sure the gaps don't cover a selection end\n            if (sel.from >= line.from && sel.from <= line.to)\n                cutRange(outside, sel.from - 10 /* SelectionMargin */, sel.from + 10 /* SelectionMargin */);\n            if (!sel.empty && sel.to >= line.from && sel.to <= line.to)\n                cutRange(outside, sel.to - 10 /* SelectionMargin */, sel.to + 10 /* SelectionMargin */);\n            for (let { from, to } of outside)\n                if (to - from > 1000 /* HalfMargin */) {\n                    gaps.push(find(current, gap => gap.from >= line.from && gap.to <= line.to &&\n                        Math.abs(gap.from - from) < 1000 /* HalfMargin */ && Math.abs(gap.to - to) < 1000 /* HalfMargin */) ||\n                        new LineGap(from, to, this.gapSize(line, from, to, structure)));\n                }\n        }\n        return gaps;\n    }\n    gapSize(line, from, to, structure) {\n        let fraction = findFraction(structure, to) - findFraction(structure, from);\n        if (this.heightOracle.lineWrapping) {\n            return line.height * fraction;\n        }\n        else {\n            return structure.total * this.heightOracle.charWidth * fraction;\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n        }\n    }\n    computeVisibleRanges() {\n        let deco = this.stateDeco;\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        state.RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        let changed = ranges.length != this.visibleRanges.length ||\n            this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);\n        this.visibleRanges = ranges;\n        return changed ? 4 /* Viewport */ : 0;\n    }\n    lineBlockAt(pos) {\n        return (pos >= this.viewport.from && pos <= this.viewport.to && this.viewportLines.find(b => b.from <= pos && b.to >= pos)) ||\n            scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, 0, 0), this.scaler);\n    }\n    lineBlockAtHeight(height) {\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType.ByHeight, this.state.doc, 0, 0), this.scaler);\n    }\n    elementAtHeight(height) {\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.state.doc, 0, 0), this.scaler);\n    }\n    get docHeight() {\n        return this.scaler.toDOM(this.heightMap.height);\n    }\n    get contentHeight() {\n        return this.docHeight + this.paddingTop + this.paddingBottom;\n    }\n}\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\nfunction lineStructure(from, to, stateDeco) {\n    let ranges = [], pos = from, total = 0;\n    state.RangeSet.spans(stateDeco, from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction cutRange(ranges, from, to) {\n    for (let i = 0; i < ranges.length; i++) {\n        let r = ranges[i];\n        if (r.from < to && r.to > from) {\n            let pieces = [];\n            if (r.from < from)\n                pieces.push({ from: r.from, to: from });\n            if (r.to > to)\n                pieces.push({ from: to, to: r.to });\n            ranges.splice(i, 1, ...pieces);\n            i += pieces.length - 1;\n        }\n    }\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler)) : block.type);\n}\n\nconst theme = state.Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = state.Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = styleMod.StyleModule.newName(), baseLightID = styleMod.StyleModule.newName(), baseDarkID = styleMod.StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new styleMod.StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme$1 = buildTheme(\".\" + baseThemeID, {\n    \"&.cm-editor\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        flexShrink: 0,\n        minHeight: \"100%\",\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\",\n        \"&[contenteditable=true]\": {\n            WebkitUserModify: \"read-write-plaintext-only\",\n        }\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace_fallback: \"pre-wrap\",\n        whiteSpace: \"break-spaces\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\",\n        flexShrink: 1\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 4px\"\n    },\n    \".cm-selectionLayer\": {\n        zIndex: -1,\n        contain: \"size style\"\n    },\n    \".cm-selectionBackground\": {\n        position: \"absolute\",\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        zIndex: 100,\n        contain: \"size style\",\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \".cm-cursor, .cm-dropCursor\": {\n        position: \"absolute\",\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n    },\n    \".cm-cursor\": {\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#f3f9ff\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#223039\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-gutters\": {\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#6c6c6c\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    },\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-widgetBuffer\": {\n        verticalAlign: \"text-top\",\n        height: \"1em\",\n        display: \"inline\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"1px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view, onChange, onScrollChanged) {\n        this.view = view;\n        this.onChange = onChange;\n        this.onScrollChanged = onScrollChanged;\n        this.active = false;\n        // The known selection. Kept in our own object, as opposed to just\n        // directly accessing the selection because:\n        //  - Safari doesn't report the right selection in shadow DOM\n        //  - Reading from the selection forces a DOM layout\n        //  - This way, we can ignore selectionchange events if we have\n        //    already seen the 'new' selection\n        this.selectionRange = new DOMSelectionState;\n        // Set when a selection change is detected, cleared on flush\n        this.selectionChanged = false;\n        this.delayedFlush = -1;\n        this.resizeTimeout = -1;\n        this.queue = [];\n        this.delayedAndroidKey = null;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.resize = null;\n        this.intersecting = false;\n        this.gapIntersection = null;\n        this.gaps = [];\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        window.addEventListener(\"resize\", this.onResize = this.onResize.bind(this));\n        if (typeof ResizeObserver == \"function\") {\n            this.resize = new ResizeObserver(() => {\n                if (this.view.docView.lastUpdate < Date.now() - 75)\n                    this.onResize();\n            });\n            this.resize.observe(view.scrollDOM);\n        }\n        window.addEventListener(\"beforeprint\", this.onPrint = this.onPrint.bind(this));\n        this.start();\n        window.addEventListener(\"scroll\", this.onScroll = this.onScroll.bind(this));\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries.length > 0 && (entries[entries.length - 1].intersectionRatio > 0) != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n            this.gapIntersection = new IntersectionObserver(entries => {\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                    this.onScrollChanged(document.createEvent(\"Event\"));\n            }, {});\n        }\n        this.listenForScroll();\n        this.readSelectionRange();\n        this.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush(false);\n        this.onScrollChanged(e);\n    }\n    onResize() {\n        if (this.resizeTimeout < 0)\n            this.resizeTimeout = setTimeout(() => {\n                this.resizeTimeout = -1;\n                this.view.requestMeasure();\n            }, 50);\n    }\n    onPrint() {\n        this.view.viewState.printing = true;\n        this.view.measure();\n        setTimeout(() => {\n            this.view.viewState.printing = false;\n            this.view.requestMeasure();\n        }, 500);\n    }\n    updateGaps(gaps) {\n        if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n            this.gapIntersection.disconnect();\n            for (let gap of gaps)\n                this.gapIntersection.observe(gap);\n            this.gaps = gaps;\n        }\n    }\n    onSelectionChange(event) {\n        if (!this.readSelectionRange() || this.delayedAndroidKey)\n            return;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event))\n            return;\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // Chrome Android has a similar issue when backspacing out a\n        // selection (#645).\n        if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty &&\n            // (Selection.isCollapsed isn't reliable on IE)\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush(false);\n    }\n    readSelectionRange() {\n        let { root } = this.view;\n        // The Selection object is broken in shadow roots in Safari. See\n        // https://github.com/codemirror/dev/issues/414\n        let range = browser.safari && root.nodeType == 11 && deepActiveElement() == this.view.contentDOM &&\n            safariSelectionRangeHack(this.view) || getSelection(root);\n        if (!range || this.selectionRange.eq(range))\n            return false;\n        this.selectionRange.setRange(range);\n        return this.selectionChanged = true;\n    }\n    setSelectionRange(anchor, head) {\n        this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);\n        this.selectionChanged = false;\n    }\n    clearSelectionRange() {\n        this.selectionRange.set(null, 0, null, 0);\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.processRecords();\n        this.queue.length = 0;\n        this.selectionChanged = false;\n    }\n    // Chrome Android, especially in combination with GBoard, not only\n    // doesn't reliably fire regular key events, but also often\n    // surrounds the effect of enter or backspace with a bunch of\n    // composition events that, when interrupted, cause text duplication\n    // or other kinds of corruption. This hack makes the editor back off\n    // from handling DOM changes for a moment when such a key is\n    // detected (via beforeinput or keydown), and then tries to flush\n    // them or, if that has no effect, dispatches the given key.\n    delayAndroidKey(key, keyCode) {\n        if (!this.delayedAndroidKey)\n            requestAnimationFrame(() => {\n                let key = this.delayedAndroidKey;\n                this.delayedAndroidKey = null;\n                this.delayedFlush = -1;\n                if (!this.flush())\n                    dispatchKey(this.view.contentDOM, key.key, key.keyCode);\n            });\n        // Since backspace beforeinput is sometimes signalled spuriously,\n        // Enter always takes precedence.\n        if (!this.delayedAndroidKey || key == \"Enter\")\n            this.delayedAndroidKey = { key, keyCode };\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = window.setTimeout(() => { this.delayedFlush = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            window.clearTimeout(this.delayedFlush);\n            this.delayedFlush = -1;\n            this.flush();\n        }\n    }\n    processRecords() {\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        return { from, to, typeOver };\n    }\n    // Apply pending changes, if any\n    flush(readSelection = true) {\n        // Completely hold off flushing when pending keys are set\u2014the code\n        // managing those will make sure processRecords is called and the\n        // view is resynchronized after\n        if (this.delayedFlush >= 0 || this.delayedAndroidKey)\n            return;\n        if (readSelection)\n            this.readSelectionRange();\n        let { from, to, typeOver } = this.processRecords();\n        let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);\n        if (from < 0 && !newSel)\n            return;\n        this.selectionChanged = false;\n        let startState = this.view.state;\n        let handled = this.onChange(from, to, typeOver);\n        // The view wasn't updated\n        if (this.view.state == startState)\n            this.view.update([]);\n        return handled;\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.dirty |= 4 /* Attrs */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    destroy() {\n        var _a, _b, _c;\n        this.stop();\n        (_a = this.intersection) === null || _a === void 0 ? void 0 : _a.disconnect();\n        (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();\n        (_c = this.resize) === null || _c === void 0 ? void 0 : _c.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        window.removeEventListener(\"scroll\", this.onScroll);\n        window.removeEventListener(\"resize\", this.onResize);\n        window.removeEventListener(\"beforeprint\", this.onPrint);\n        this.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n        clearTimeout(this.parentCheck);\n        clearTimeout(this.resizeTimeout);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\n// Used to work around a Safari Selection/shadow DOM bug (#414)\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at it\u2014using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    document.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\nfunction applyDOMChange(view, start, end, typeOver) {\n    let change, newSel;\n    let sel = view.state.selection.main;\n    if (start > -1) {\n        let bounds = view.docView.domBoundsAround(start, end, 0);\n        if (!bounds || view.state.readOnly)\n            return false;\n        let { from, to } = bounds;\n        let selPoints = view.docView.impreciseHead || view.docView.impreciseAnchor ? [] : selectionPoints(view);\n        let reader = new DOMReader(selPoints, view.state);\n        reader.readRange(bounds.startDOM, bounds.endDOM);\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && reader.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.doc.sliceString(from, to, LineBreakPlaceholder), reader.text, preferredPos - from, preferredSide);\n        if (diff) {\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. This drops one of those.\n            if (browser.chrome && view.inputState.lastKeyCode == 13 &&\n                diff.toB == diff.from + 2 && reader.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)\n                diff.toB--;\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: state.Text.of(reader.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder)) };\n        }\n        newSel = selectionFromPoints(selPoints, from);\n    }\n    else if (view.hasFocus || !view.state.facet(editable)) {\n        let domSel = view.observer.selectionRange;\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n            !contains(view.contentDOM, domSel.focusNode)\n            ? view.state.selection.main.head\n            : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n        let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n            !contains(view.contentDOM, domSel.anchorNode)\n            ? view.state.selection.main.anchor\n            : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n        if (head != sel.head || anchor != sel.anchor)\n            newSel = state.EditorSelection.single(anchor, head);\n    }\n    if (!change && !newSel)\n        return false;\n    // Heuristic to notice typing over a selected character\n    if (!change && typeOver && !sel.empty && newSel && newSel.main.empty)\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    // If the change is inside the selection and covers most of it,\n    // assume it is a selection replace (with identical characters at\n    // the start/end not included in the diff)\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    // Detect insert-period-on-double-space Mac behavior, and transform\n    // it into a regular space insert.\n    else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 &&\n        change.insert.toString() == \".\")\n        change = { from: sel.from, to: sel.to, insert: state.Text.of([\" \"]) };\n    if (change) {\n        let startState = view.state;\n        if (browser.ios && view.inputState.flushIOSKey(view))\n            return true;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events. (Some of these keys are also handled by beforeinput\n        // events and the pendingAndroidKey mechanism, but that's not\n        // reliable in all situations.)\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46))))\n            return true;\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return true;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) &&\n            view.inputState.composing < 0) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) + after));\n        }\n        else {\n            let changes = startState.changes(change);\n            let mainSel = newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                ? newSel.main : undefined;\n            // Try to apply a composition change to all cursors\n            if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 &&\n                change.to <= sel.to && change.to >= sel.to - 10) {\n                let replaced = view.state.sliceDoc(change.from, change.to);\n                let compositionRange = compositionSurroundingNode(view) || view.state.doc.lineAt(sel.head);\n                let offset = sel.to - change.to, size = sel.to - sel.from;\n                tr = startState.changeByRange(range => {\n                    if (range.from == sel.from && range.to == sel.to)\n                        return { changes, range: mainSel || range.map(changes) };\n                    let to = range.to - offset, from = to - replaced.length;\n                    if (range.to - range.from != size || view.state.sliceDoc(from, to) != replaced ||\n                        // Unfortunately, there's no way to make multiple\n                        // changes in the same node work without aborting\n                        // composition, so cursors in the composition range are\n                        // ignored.\n                        compositionRange && range.to >= compositionRange.from && range.from <= compositionRange.to)\n                        return { range };\n                    let rangeChanges = startState.changes({ from, to, insert: change.insert }), selOff = range.to - sel.to;\n                    return {\n                        changes: rangeChanges,\n                        range: !mainSel ? range.map(rangeChanges) :\n                            state.EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))\n                    };\n                });\n            }\n            else {\n                tr = {\n                    changes,\n                    selection: mainSel && startState.selection.replaceRange(mainSel)\n                };\n            }\n        }\n        let userEvent = \"input.type\";\n        if (view.composing) {\n            userEvent += \".compose\";\n            if (view.inputState.compositionFirstChange) {\n                userEvent += \".start\";\n                view.inputState.compositionFirstChange = false;\n            }\n        }\n        view.dispatch(tr, { scrollIntoView: true, userEvent });\n        return true;\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? state.EditorSelection.single(anchor + base, head + base) : null;\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle \u2192 Updating \u21c6 Idle (unchecked) \u2192 Measuring \u2192 Idle\n//                                         \u2191      \u2193\n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll want to either provide a `parent`\n    option, or put `view.dom` into your document after creating a\n    view, so that the user can see the editor.\n    */\n    constructor(config = {}) {\n        this.plugins = [];\n        this.pluginMap = new Map;\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        this.destroyed = false;\n        /**\n        @internal\n        */\n        this.updateState = 2 /* Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: absolute; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this.root = (config.root || getRoot(config.parent) || document);\n        this.viewState = new ViewState(config.state || state.EditorState.create(config));\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec));\n        for (let plugin of this.plugins)\n            plugin.update(this);\n        this.observer = new DOMObserver(this, (from, to, typeOver) => {\n            return applyDOMChange(this, from, to, typeOver);\n        }, event => {\n            this.inputState.runScrollHandlers(this, event);\n            if (this.observer.intersecting)\n                this.measure();\n        });\n        this.inputState = new InputState(this);\n        this.inputState.ensureHandlers(this, this.plugins);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* Idle */;\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method), and at least\n    one change has been made in the current composition.\n    */\n    get composing() { return this.inputState.composing > 0; }\n    /**\n    Indicates whether the user is currently in composing state. Note\n    that on some platforms, like Android, this will be the case a\n    lot, since just putting the cursor on a word starts a\n    composition there.\n    */\n    get compositionStarted() { return this.inputState.composing >= 0; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof state.Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, attrsChanged = false, update;\n        let state$1 = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state$1)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state$1 = tr.state;\n        }\n        if (this.destroyed) {\n            this.viewState.state = state$1;\n            return;\n        }\n        this.observer.clear();\n        // When the phrases change, redraw the editor\n        if (state$1.facet(state.EditorState.phrases) != this.state.facet(state.EditorState.phrases))\n            return this.setState(state$1);\n        update = ViewUpdate.create(this, state$1, transactions);\n        let scrollTarget = this.viewState.scrollTarget;\n        try {\n            this.updateState = 2 /* Updating */;\n            for (let tr of transactions) {\n                if (scrollTarget)\n                    scrollTarget = scrollTarget.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollTarget = new ScrollTarget(main.empty ? main : state.EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                }\n                for (let e of tr.effects)\n                    if (e.is(scrollIntoView))\n                        scrollTarget = e.value;\n            }\n            this.viewState.update(update, scrollTarget);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            attrsChanged = this.updateAttrs();\n            this.showAnnouncements(transactions);\n            this.docView.updateSelection(redrawn, transactions.some(tr => tr.isUserEvent(\"select.pointer\")));\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        if (update.startState.facet(theme) != update.state.facet(theme))\n            this.viewState.mustMeasureContent = true;\n        if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        if (this.destroyed) {\n            this.viewState.state = newState;\n            return;\n        }\n        this.updateState = 2 /* Updating */;\n        let hadFocus = this.hasFocus;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec));\n            this.pluginMap.clear();\n            for (let plugin of this.plugins)\n                plugin.update(this);\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this, this.plugins);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        if (hadFocus)\n            this.focus();\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.pluginMap.clear();\n            this.inputState.ensureHandlers(this, this.plugins);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.destroyed)\n            return;\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = 0; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.flush();\n        let updated = null;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* Measuring */;\n                let oldViewport = this.viewport;\n                let changed = this.viewState.measure(this);\n                if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                    break;\n                if (i > 5) {\n                    console.warn(this.measureRequests.length\n                        ? \"Measure loop restarted more than 5 times\"\n                        : \"Viewport failed to stabilize\");\n                    break;\n                }\n                let measuring = [];\n                // Only run measure requests in this cycle when the viewport didn't change\n                if (!(changed & 4 /* Viewport */))\n                    [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = ViewUpdate.create(this, this.state, []), redrawn = false, scrolled = false;\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                    this.updateAttrs();\n                    redrawn = this.docView.update(update);\n                }\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            let m = measuring[i];\n                            if (m.write)\n                                m.write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.scrollTarget) {\n                    this.docView.scrollIntoView(this.viewState.scrollTarget);\n                    this.viewState.scrollTarget = null;\n                    scrolled = true;\n                }\n                if (redrawn)\n                    this.docView.updateSelection(true);\n                if (this.viewport.from == oldViewport.from && this.viewport.to == oldViewport.to &&\n                    !scrolled && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n            this.measureScheduled = -1;\n        }\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = attrsFromFacet(this, editorAttributes, {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            translate: \"no\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        attrsFromFacet(this, contentAttributes, contentAttrs);\n        let changed = this.observer.ignore(() => {\n            let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n            let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n            return changedContent || changedEditor;\n        });\n        this.editorAttrs = editorAttrs;\n        this.contentAttrs = contentAttrs;\n        return changed;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        styleMod.StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        let known = this.pluginMap.get(plugin);\n        if (known === undefined || known && known.spec != plugin)\n            this.pluginMap.set(plugin, known = this.plugins.find(p => p.spec == plugin) || null);\n        return known && known.update(this).value;\n    }\n    /**\n    The top position of the document, in screen coordinates. This\n    may be negative when the editor is scrolled down. Points\n    directly to the top of the first line, not above the padding.\n    */\n    get documentTop() {\n        return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;\n    }\n    /**\n    Reports the padding above and below the document.\n    */\n    get documentPadding() {\n        return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };\n    }\n    /**\n    Find the text line or block widget at the given vertical\n    position (which is interpreted as relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)\n    */\n    elementAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.elementAtHeight(height);\n    }\n    /**\n    Find the line block (see\n    [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) at the given\n    height.\n    */\n    lineBlockAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.lineBlockAtHeight(height);\n    }\n    /**\n    Get the extent and vertical position of all [line\n    blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions\n    are relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);\n    */\n    get viewportLineBlocks() {\n        return this.viewState.viewportLines;\n    }\n    /**\n    Find the line block around the given document position. A line\n    block is a range delimited on both sides by either a\n    non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line breaks, or the\n    start/end of the document. It will usually just hold a line of\n    text, but may be broken into multiple textblocks by block\n    widgets.\n    */\n    lineBlockAt(pos) {\n        return this.viewState.lineBlockAt(pos);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. In\n    bidirectional text, the line is traversed in visual order, using\n    the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n    When the start position was the last one on the line, the\n    returned position will be across the line break. If there is no\n    further line, the original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    \n    Note that for positions that aren't currently in\n    `visibleRanges`, the resulting DOM position isn't necessarily\n    meaningful (it may just point before or after a placeholder\n    element).\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == exports.Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor's content element.\n    */\n    get textDirection() { return this.viewState.defaultTextDirection; }\n    /**\n    Find the text direction of the block at the given position, as\n    assigned by CSS. If\n    [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)\n    isn't enabled, or the given position is outside of the viewport,\n    this will always return the same as\n    [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that\n    this may trigger a DOM layout.\n    */\n    textDirectionAt(pos) {\n        let perLine = this.state.facet(perLineTextDirection);\n        if (!perLine || pos < this.viewport.from || pos > this.viewport.to)\n            return this.textDirection;\n        this.readMeasured();\n        return this.docView.textDirectionAt(pos);\n    }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)\u2014if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirectionAt(line.from);\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, dir);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (document.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.plugins = [];\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.destroyed = true;\n    }\n    /**\n    Returns an effect that can be\n    [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to\n    cause it to scroll the given position or range into view.\n    */\n    static scrollIntoView(pos, options = {}) {\n        return scrollIntoView.of(new ScrollTarget(typeof pos == \"number\" ? state.EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));\n    }\n    /**\n    Returns an extension that can be used to add DOM event handlers.\n    The value should be an object mapping event names to handler\n    functions. For any given event, such functions are ordered by\n    extension precedence, and the first handler to return true will\n    be assumed to have handled that event, and no other handlers or\n    built-in behavior will be activated for it. These are registered\n    on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except\n    for `scroll` handlers, which will be called any time the\n    editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of\n    its parent nodes is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)\u2014to which the scope class will be\n    added\u2014need to be explicitly differentiated by adding an `&` to\n    the selector for that element\u2014for example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = styleMod.StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return state.Prec.lowest(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n    /**\n    Retrieve an editor view instance from the view's DOM\n    representation.\n    */\n    static findFromDOM(dom) {\n        var _a;\n        let content = dom.querySelector(\".cm-content\");\n        let cView = content && ContentView.get(content) || ContentView.get(dom);\n        return ((_a = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a === void 0 ? void 0 : _a.view) || null;\n    }\n}\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nBy default, the editor assumes all its content has the same\n[text direction](https://codemirror.net/6/docs/ref/#view.Direction). Configure this with a `true`\nvalue to make it read the text direction of every (rendered)\nline separately.\n*/\nEditorView.perLineTextDirection = perLineTextDirection;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot have its `contenteditable` attribute set. (Note that this\ndoesn't affect API calls that change the editor content, even\nwhen those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds a\nnew range to the existing selection or replaces it entirely. The\ndefault behavior is to check `event.metaKey` on macOS, and\n`event.ctrlKey` elsewhere.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. Decorations can be provided in two\nways\u2014directly, or via a function that takes an editor view.\n\nOnly decoration sets provided directly are allowed to influence\nthe editor's vertical layout structure. The ones provided as\nfunctions are called _after_ the new viewport has been computed,\nand thus **must not** introduce block widgets or replacing\ndecorations that cover line breaks.\n*/\nEditorView.decorations = decorations;\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nEditorView.atomicRanges = atomicRanges;\n/**\nFacet that allows extensions to provide additional scroll\nmargins (space around the sides of the scrolling element that\nshould be considered invisible). This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nEditorView.scrollMargins = scrollMargins;\n/**\nThis facet records whether a dark theme is active. The extension\nreturned by [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme) automatically\nincludes an instance of this when the `dark` option is set to\ntrue.\n*/\nEditorView.darkTheme = darkTheme;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = state.StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : exports.Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\nfunction attrsFromFacet(view, facet, base) {\n    for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {\n        let source = sources[i], value = typeof source == \"function\" ? source(view) : source;\n        if (value)\n            combineAttrs(value, base);\n    }\n    return base;\n}\n\nconst currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n});\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = state.Facet.define({ enables: handleKeyEvents });\nconst Keymaps = new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be a `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    commands: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, commands: [] });\n        binding.commands.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of b.scope ? b.scope.split(\" \") : [\"editor\"]) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = w3cKeyname.keyName(event);\n    let charCode = state.codePointAt(name, 0), isChar = state.codePointSize(charCode) == name.length && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.commands)\n                if (cmd(view))\n                    return true;\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey || charCode > 127) &&\n            (baseName = w3cKeyname.base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n            else if (event.shiftKey && w3cKeyname.shift[event.keyCode] != baseName &&\n                runFor(scopeObj[prefix + modifiers(w3cKeyname.shift[event.keyCode], event, false)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n    }\n    return fallthrough;\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = state.Facet.define({\n    combine(configs) {\n        return state.combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        drawSelectionPlugin,\n        hideNativeSelection\n    ];\n}\nclass Piece {\n    constructor(left, top, width, height, className) {\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n        this.className = className;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width >= 0)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nconst drawSelectionPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.selectionLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.selectionLayer.className = \"cm-selectionLayer\";\n        this.selectionLayer.setAttribute(\"aria-hidden\", \"true\");\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = this.view.state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n    }\n    update(update) {\n        let confChanged = update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n        if (confChanged || update.selectionSet || update.geometryChanged || update.viewportChanged)\n            this.view.requestMeasure(this.measureReq);\n        if (update.transactions.some(tr => tr.scrollIntoView))\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        if (confChanged)\n            this.setBlinkRate();\n    }\n    readPos() {\n        let { state } = this.view, conf = state.facet(selectionConfig);\n        let rangePieces = state.selection.ranges.map(r => r.empty ? [] : measureRange(this.view, r)).reduce((a, b) => a.concat(b));\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let piece = measureCursor(this.view, r, prim);\n                if (piece)\n                    cursors.push(piece);\n            }\n        }\n        return { rangePieces, cursors };\n    }\n    drawSel({ rangePieces, cursors }) {\n        if (rangePieces.length != this.rangePieces.length || rangePieces.some((p, i) => !p.eq(this.rangePieces[i]))) {\n            this.selectionLayer.textContent = \"\";\n            for (let p of rangePieces)\n                this.selectionLayer.appendChild(p.draw());\n            this.rangePieces = rangePieces;\n        }\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.selectionLayer.remove();\n        this.cursorLayer.remove();\n    }\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = state.Prec.highest(EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == exports.Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = state.EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: exports.BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.lineBlockAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == exports.BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction measureRange(view, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == exports.Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft) + Math.min(0, parseInt(lineStyle.textIndent));\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == exports.BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == exports.BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && view.elementAtHeight((top.bottom + bottom.top) / 2).type == exports.BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new Piece(left - base.left, top - base.top - 0.01 /* Epsilon */, right - left, bottom - top + 0.01 /* Epsilon */, \"cm-selectionBackground\");\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == exports.Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction measureCursor(view, cursor, primary) {\n    let pos = view.coordsAtPos(cursor.head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    return new Piece(pos.left - base.left, pos.top - base.top, -1, pos.bottom - pos.top, primary ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\");\n}\n\nconst setDropCursorPos = state.StateEffect.define({\n    map(pos, mapping) { return pos == null ? null : mapping.mapPos(pos); }\n});\nconst dropCursorPos = state.StateField.define({\n    create() { return null; },\n    update(pos, tr) {\n        if (pos != null)\n            pos = tr.changes.mapPos(pos);\n        return tr.effects.reduce((pos, e) => e.is(setDropCursorPos) ? e.value : pos, pos);\n    }\n});\nconst drawDropCursor = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.cursor = null;\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };\n    }\n    update(update) {\n        var _a;\n        let cursorPos = update.state.field(dropCursorPos);\n        if (cursorPos == null) {\n            if (this.cursor != null) {\n                (_a = this.cursor) === null || _a === void 0 ? void 0 : _a.remove();\n                this.cursor = null;\n            }\n        }\n        else {\n            if (!this.cursor) {\n                this.cursor = this.view.scrollDOM.appendChild(document.createElement(\"div\"));\n                this.cursor.className = \"cm-dropCursor\";\n            }\n            if (update.startState.field(dropCursorPos) != cursorPos || update.docChanged || update.geometryChanged)\n                this.view.requestMeasure(this.measureReq);\n        }\n    }\n    readPos() {\n        let pos = this.view.state.field(dropCursorPos);\n        let rect = pos != null && this.view.coordsAtPos(pos);\n        if (!rect)\n            return null;\n        let outer = this.view.scrollDOM.getBoundingClientRect();\n        return {\n            left: rect.left - outer.left + this.view.scrollDOM.scrollLeft,\n            top: rect.top - outer.top + this.view.scrollDOM.scrollTop,\n            height: rect.bottom - rect.top\n        };\n    }\n    drawCursor(pos) {\n        if (this.cursor) {\n            if (pos) {\n                this.cursor.style.left = pos.left + \"px\";\n                this.cursor.style.top = pos.top + \"px\";\n                this.cursor.style.height = pos.height + \"px\";\n            }\n            else {\n                this.cursor.style.left = \"-100000px\";\n            }\n        }\n    }\n    destroy() {\n        if (this.cursor)\n            this.cursor.remove();\n    }\n    setDropPos(pos) {\n        if (this.view.state.field(dropCursorPos) != pos)\n            this.view.dispatch({ effects: setDropCursorPos.of(pos) });\n    }\n}, {\n    eventHandlers: {\n        dragover(event) {\n            this.setDropPos(this.view.posAtCoords({ x: event.clientX, y: event.clientY }));\n        },\n        dragleave(event) {\n            if (event.target == this.view.contentDOM || !this.view.contentDOM.contains(event.relatedTarget))\n                this.setDropPos(null);\n        },\n        dragend() {\n            this.setDropPos(null);\n        },\n        drop() {\n            this.setDropPos(null);\n        }\n    }\n});\n/**\nDraws a cursor at the current drop position when something is\ndragged over the editor.\n*/\nfunction dropCursor() {\n    return [dropCursorPos, drawDropCursor];\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, pos + m.index + m[0].length, m);\n    }\n}\nfunction matchRanges(view, maxLength) {\n    let visible = view.visibleRanges;\n    if (visible.length == 1 && visible[0].from == view.viewport.from &&\n        visible[0].to == view.viewport.to)\n        return visible;\n    let result = [];\n    for (let { from, to } of visible) {\n        from = Math.max(view.state.doc.lineAt(from).from, from - maxLength);\n        to = Math.min(view.state.doc.lineAt(to).to, to + maxLength);\n        if (result.length && result[result.length - 1].to >= from)\n            result[result.length - 1].to = to;\n        else\n            result.push({ from, to });\n    }\n    return result;\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        let { regexp, decoration, boundary, maxLength = 1000 } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        this.getDeco = typeof decoration == \"function\" ? decoration : () => decoration;\n        this.boundary = boundary;\n        this.maxLength = maxLength;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new state.RangeSetBuilder();\n        for (let { from, to } of matchRanges(view, this.maxLength))\n            iterMatches(view.state.doc, this.regexp, from, to, (a, b, m) => build.add(a, b, this.getDeco(m, view, a)));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from) {\n                        let pos = m.index + fromLine.from;\n                        ranges.push(this.getDeco(m, view, pos).range(pos, pos + m[0].length));\n                    }\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, to, m) => ranges.push(this.getDeco(m, view, from).range(from, to)));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8237: \"left-to-right override\",\n    8238: \"right-to-left override\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = state.Facet.define({\n    combine(configs) {\n        let config = state.combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = state.codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = state.countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = ViewPlugin.fromClass(class {\n    constructor() {\n        this.height = 1000;\n        this.attrs = { style: \"padding-bottom: 1000px\" };\n    }\n    update(update) {\n        let height = update.view.viewState.editorHeight - update.view.defaultLineHeight;\n        if (height != this.height) {\n            this.height = height;\n            this.attrs = { style: `padding-bottom: ${height}px` };\n        }\n    }\n});\n/**\nReturns an extension that makes sure the content has a bottom\nmargin equivalent to the height of the editor, minus one line\nheight, so that every line in the document can be scrolled to the\ntop of the editor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return [plugin, contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.attrs) || null; })];\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = Decoration.line({ class: \"cm-activeLine\" });\nconst activeLineHighlighter = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            if (!r.empty)\n                return Decoration.none;\n            let line = view.lineBlockAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholder\u2014a piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state$1, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state$1.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(state.EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state$1.doc.line(i);\n            let start = state.findColumn(line.text, startCol, state$1.tabSize, true);\n            if (start > -1) {\n                let end = state.findColumn(line.text, endCol, state$1.tabSize);\n                ranges.push(state.EditorSelection.range(line.from + start, line.from + end));\n            }\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : state.countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return state.EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return state.EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\nconst keys = {\n    Alt: [18, e => e.altKey],\n    Control: [17, e => e.ctrlKey],\n    Shift: [16, e => e.shiftKey],\n    Meta: [91, e => e.metaKey]\n};\nconst showCrosshair = { style: \"cursor: crosshair\" };\n/**\nReturns an extension that turns the pointer cursor into a\ncrosshair when a given modifier key, defaulting to Alt, is held\ndown. Can serve as a visual hint that rectangular selection is\ngoing to happen when paired with\n[`rectangularSelection`](https://codemirror.net/6/docs/ref/#view.rectangularSelection).\n*/\nfunction crosshairCursor(options = {}) {\n    let [code, getter] = keys[options.key || \"Alt\"];\n    let plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.isDown = false;\n        }\n        set(isDown) {\n            if (this.isDown != isDown) {\n                this.isDown = isDown;\n                this.view.update([]);\n            }\n        }\n    }, {\n        eventHandlers: {\n            keydown(e) {\n                this.set(e.keyCode == code || getter(e));\n            },\n            keyup(e) {\n                if (e.keyCode == code || !getter(e))\n                    this.set(false);\n            }\n        }\n    });\n    return [\n        plugin,\n        EditorView.contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.isDown) ? showCrosshair : null; })\n    ];\n}\n\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return false;\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0)\n                t.dom.remove();\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return true;\n    }\n}\n/**\nCreates an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return tooltipConfig.of(config);\n}\nfunction windowSpace() {\n    return { top: 0, left: 0, bottom: innerHeight, right: innerWidth };\n}\nconst tooltipConfig = state.Facet.define({\n    combine: values => {\n        var _a, _b, _c;\n        return ({\n            position: browser.ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n            parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,\n            tooltipSpace: ((_c = values.find(conf => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace,\n        });\n    }\n});\nconst tooltipPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        var _a;\n        this.view = view;\n        this.inView = true;\n        this.lastTransaction = 0;\n        this.measureTimeout = -1;\n        let config = view.state.facet(tooltipConfig);\n        this.position = config.position;\n        this.parent = config.parent;\n        this.classes = view.themeClasses;\n        this.createContainer();\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n        this.intersectionObserver = typeof IntersectionObserver == \"function\" ? new IntersectionObserver(entries => {\n            if (Date.now() > this.lastTransaction - 50 &&\n                entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)\n                this.measureSoon();\n        }, { threshold: [1] }) : null;\n        this.observeIntersection();\n        (_a = view.dom.ownerDocument.defaultView) === null || _a === void 0 ? void 0 : _a.addEventListener(\"resize\", this.measureSoon = this.measureSoon.bind(this));\n        this.maybeMeasure();\n    }\n    createContainer() {\n        if (this.parent) {\n            this.container = document.createElement(\"div\");\n            this.container.style.position = \"relative\";\n            this.container.className = this.view.themeClasses;\n            this.parent.appendChild(this.container);\n        }\n        else {\n            this.container = this.view.dom;\n        }\n    }\n    observeIntersection() {\n        if (this.intersectionObserver) {\n            this.intersectionObserver.disconnect();\n            for (let tooltip of this.manager.tooltipViews)\n                this.intersectionObserver.observe(tooltip.dom);\n        }\n    }\n    measureSoon() {\n        if (this.measureTimeout < 0)\n            this.measureTimeout = setTimeout(() => {\n                this.measureTimeout = -1;\n                this.maybeMeasure();\n            }, 50);\n    }\n    update(update) {\n        if (update.transactions.length)\n            this.lastTransaction = Date.now();\n        let updated = this.manager.update(update);\n        if (updated)\n            this.observeIntersection();\n        let shouldMeasure = updated || update.geometryChanged;\n        let newConfig = update.state.facet(tooltipConfig);\n        if (newConfig.position != this.position) {\n            this.position = newConfig.position;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = this.position;\n            shouldMeasure = true;\n        }\n        if (newConfig.parent != this.parent) {\n            if (this.parent)\n                this.container.remove();\n            this.parent = newConfig.parent;\n            this.createContainer();\n            for (let t of this.manager.tooltipViews)\n                this.container.appendChild(t.dom);\n            shouldMeasure = true;\n        }\n        else if (this.parent && this.view.themeClasses != this.classes) {\n            this.classes = this.container.className = this.view.themeClasses;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        if (tooltip.arrow && !tooltipView.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")) {\n            let arrow = document.createElement(\"div\");\n            arrow.className = \"cm-tooltip-arrow\";\n            tooltipView.dom.appendChild(arrow);\n        }\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.container.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        var _a, _b;\n        (_a = this.view.dom.ownerDocument.defaultView) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"resize\", this.measureSoon);\n        for (let { dom } of this.manager.tooltipViews)\n            dom.remove();\n        (_b = this.intersectionObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n        clearTimeout(this.measureTimeout);\n    }\n    readMeasure() {\n        let editor = this.view.dom.getBoundingClientRect();\n        return {\n            editor,\n            parent: this.parent ? this.container.getBoundingClientRect() : editor,\n            pos: this.manager.tooltips.map((t, i) => {\n                let tv = this.manager.tooltipViews[i];\n                return tv.getCoords ? tv.getCoords(t.pos) : this.view.coordsAtPos(t.pos);\n            }),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view),\n        };\n    }\n    writeMeasure(measured) {\n        let { editor, space } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= Math.max(editor.top, space.top) ||\n                pos.top >= Math.min(editor.bottom, space.bottom) ||\n                pos.right < Math.max(editor.left, space.left) - .1 ||\n                pos.left > Math.min(editor.right, space.right) + .1) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let arrow = tooltip.arrow ? tView.dom.querySelector(\".cm-tooltip-arrow\") : null;\n            let arrowHeight = arrow ? 7 /* Size */ : 0;\n            let width = size.right - size.left, height = size.bottom - size.top;\n            let offset = tView.offset || noOffset, ltr = this.view.textDirection == exports.Direction.LTR;\n            let left = size.width > space.right - space.left ? (ltr ? space.left : space.right - size.width)\n                : ltr ? Math.min(pos.left - (arrow ? 14 /* Offset */ : 0) + offset.x, space.right - width)\n                    : Math.max(space.left, pos.left - width + (arrow ? 14 /* Offset */ : 0) - offset.x);\n            let above = !!tooltip.above;\n            if (!tooltip.strictSide && (above\n                ? pos.top - (size.bottom - size.top) - offset.y < space.top\n                : pos.bottom + (size.bottom - size.top) + offset.y > space.bottom) &&\n                above == (space.bottom - pos.bottom > pos.top - space.top))\n                above = !above;\n            let top = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;\n            let right = left + width;\n            if (tView.overlap !== true)\n                for (let r of others)\n                    if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                        top = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - measured.parent.top) + \"px\";\n                dom.style.left = (left - measured.parent.left) + \"px\";\n            }\n            else {\n                dom.style.top = top + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            if (arrow)\n                arrow.style.left = `${pos.left + (ltr ? offset.x : -offset.x) - (left + 14 /* Offset */ - 7 /* Size */)}px`;\n            if (tView.overlap !== true)\n                others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned();\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst baseTheme = EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #bbb\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #bbb\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tooltip-arrow\": {\n        height: `${7 /* Size */}px`,\n        width: `${7 /* Size */ * 2}px`,\n        position: \"absolute\",\n        zIndex: -1,\n        overflow: \"hidden\",\n        \"&:before, &:after\": {\n            content: \"''\",\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            borderLeft: `${7 /* Size */}px solid transparent`,\n            borderRight: `${7 /* Size */}px solid transparent`,\n        },\n        \".cm-tooltip-above &\": {\n            bottom: `-${7 /* Size */}px`,\n            \"&:before\": {\n                borderTop: `${7 /* Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderTop: `${7 /* Size */}px solid #f5f5f5`,\n                bottom: \"1px\"\n            }\n        },\n        \".cm-tooltip-below &\": {\n            top: `-${7 /* Size */}px`,\n            \"&:before\": {\n                borderBottom: `${7 /* Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderBottom: `${7 /* Size */}px solid #f5f5f5`,\n                top: \"1px\"\n            }\n        },\n    },\n    \"&dark .cm-tooltip .cm-tooltip-arrow\": {\n        \"&:before\": {\n            borderTopColor: \"#333338\",\n            borderBottomColor: \"#333338\"\n        },\n        \"&:after\": {\n            borderTopColor: \"transparent\",\n            borderBottomColor: \"transparent\"\n        }\n    }\n});\nconst noOffset = { x: 0, y: 0 };\n/**\nFacet to which an extension can add a value to show a tooltip.\n*/\nconst showTooltip = state.Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = state.Facet.define();\nclass HoverTooltipHost {\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned() {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned();\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n}\nconst showHoverTooltipHost = showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above,\n        arrow: tooltips.some(t => t.arrow),\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.lastMove = { x: 0, y: 0, target: view.dom, time: 0 };\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMove.time;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        clearTimeout(this.restartTimeout);\n        let { lastMove } = this;\n        let pos = this.view.contentDOM.contains(lastMove.target) ? this.view.posAtCoords(lastMove) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || lastMove.y < posCoords.top || lastMove.y > posCoords.bottom ||\n            lastMove.x < posCoords.left - this.view.defaultCharacterWidth ||\n            lastMove.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == exports.Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (lastMove.x < posCoords.left ? -rtl : rtl));\n        if (open === null || open === void 0 ? void 0 : open.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMove = { x: event.clientX, y: event.clientY, target: event.target, time: Date.now() };\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(this.lastMove.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords(this.lastMove) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, 6 /* MaxDist */))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave() {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active)\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nSet up a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos`, return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer is\u2014it will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = state.StateEffect.define();\n    let hoverState = state.StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection) ||\n                options.hideOn && options.hideOn(tr, value)))\n                return null;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, state.MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                value = copy;\n            }\n            for (let effect of tr.effects) {\n                if (effect.is(setHover))\n                    value = effect.value;\n                if (effect.is(closeHoverTooltipEffect))\n                    value = null;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, options.hoverTime || 300 /* Time */)),\n        showHoverTooltipHost\n    ];\n}\n/**\nGet the active tooltip view for a given tooltip, if available.\n*/\nfunction getTooltip(view, tooltip) {\n    let plugin = view.plugin(tooltipPlugin);\n    if (!plugin)\n        return null;\n    let found = plugin.manager.tooltips.indexOf(tooltip);\n    return found < 0 ? null : plugin.manager.tooltipViews[found];\n}\n/**\nReturns true if any hover tooltips are currently active.\n*/\nfunction hasHoverTooltips(state) {\n    return state.facet(showHoverTooltip).some(x => x);\n}\nconst closeHoverTooltipEffect = state.StateEffect.define();\n/**\nTransaction effect that closes all hover tooltips.\n*/\nconst closeHoverTooltips = closeHoverTooltipEffect.of(null);\n/**\nTell the tooltip extension to recompute the position of the active\ntooltips. This can be useful when something happens (such as a\nre-positioning or CSS change affecting the editor) that could\ninvalidate the existing tooltip positions.\n*/\nfunction repositionTooltips(view) {\n    var _a;\n    (_a = view.plugin(tooltipPlugin)) === null || _a === void 0 ? void 0 : _a.maybeMeasure();\n}\n\nconst panelConfig = state.Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        return value && { top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() };\n    })\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        for (let p of this.panels)\n            if (p.destroy && panels.indexOf(p) < 0)\n                p.destroy();\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = state.Facet.define({\n    enables: panelPlugin\n});\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends state.RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n    /**\n    Called if the marker has a `toDOM` method and its representation\n    was removed from a gutter.\n    */\n    destroy(dom) { }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = state.MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#view.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#view.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = state.Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => state.RangeSet.empty,\n    lineMarker: () => null,\n    lineMarkerChange: null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = state.Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst unfixGutters = state.Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.prevViewport = view.viewport;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        this.syncGutters(false);\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n    }\n    update(update) {\n        if (this.updateGutters(update)) {\n            // Detach during sync when the viewport changed significantly\n            // (such as during scrolling), since for large updates that is\n            // faster.\n            let vpA = this.prevViewport, vpB = update.view.viewport;\n            let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);\n            this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);\n        }\n        if (update.geometryChanged)\n            this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n        this.prevViewport = update.view.viewport;\n    }\n    syncGutters(detach) {\n        let after = this.dom.nextSibling;\n        if (detach)\n            this.dom.remove();\n        let lineClasses = state.RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport, -this.view.documentPadding.top));\n        for (let line of this.view.viewportLineBlocks) {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == exports.BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == exports.BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                continue;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }\n        for (let cx of contexts)\n            cx.finish();\n        if (detach)\n            this.view.scrollDOM.insertBefore(this.dom, after);\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !state.RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters) {\n                g.dom.remove();\n                if (gutters.indexOf(g) < 0)\n                    g.destroy();\n            }\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        for (let view of this.gutters)\n            view.destroy();\n        this.dom.remove();\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        if (!value || value.gutters.length == 0 || !value.fixed)\n            return null;\n        return view.textDirection == exports.Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport, height) {\n        this.gutter = gutter;\n        this.height = height;\n        this.localMarkers = [];\n        this.i = 0;\n        this.cursor = state.RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        advanceCursor(this.cursor, this.localMarkers, line.from);\n        let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            gutter.elements[this.i].update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i) {\n            let last = gutter.elements.pop();\n            gutter.dom.removeChild(last.dom);\n            last.destroy();\n        }\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.lineBlockAtHeight(event.clientY - view.documentTop);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !state.RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) ||\n            (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);\n    }\n    destroy() {\n        for (let elt of this.elements)\n            elt.destroy();\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.markers = [];\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutterElement\";\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (!sameMarkers(this.markers, markers))\n            this.setMarkers(view, markers);\n    }\n    setMarkers(view, markers) {\n        let cls = \"cm-gutterElement\", domPos = this.dom.firstChild;\n        for (let iNew = 0, iOld = 0;;) {\n            let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;\n            if (marker) {\n                let c = marker.elementClass;\n                if (c)\n                    cls += \" \" + c;\n                for (let i = iOld; i < this.markers.length; i++)\n                    if (this.markers[i].compare(marker)) {\n                        skipTo = i;\n                        matched = true;\n                        break;\n                    }\n            }\n            else {\n                skipTo = this.markers.length;\n            }\n            while (iOld < skipTo) {\n                let next = this.markers[iOld++];\n                if (next.toDOM) {\n                    next.destroy(domPos);\n                    let after = domPos.nextSibling;\n                    domPos.remove();\n                    domPos = after;\n                }\n            }\n            if (!marker)\n                break;\n            if (marker.toDOM) {\n                if (matched)\n                    domPos = domPos.nextSibling;\n                else\n                    this.dom.insertBefore(marker.toDOM(view), domPos);\n            }\n            if (matched)\n                iOld++;\n        }\n        this.dom.className = cls;\n        this.markers = markers;\n    }\n    destroy() {\n        this.setMarkers(null, []); // First argument not used unless creating markers\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = state.Facet.define();\nconst lineNumberConfig = state.Facet.define({\n    combine(values) {\n        return state.combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM() { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    lineMarkerChange: update => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = gutterLineClass.compute([\"selection\"], state$1 => {\n    let marks = [], last = -1;\n    for (let range of state$1.selection.ranges)\n        if (range.empty) {\n            let linePos = state$1.doc.lineAt(range.head).from;\n            if (linePos > last) {\n                last = linePos;\n                marks.push(activeLineGutterMarker.range(linePos));\n            }\n        }\n    return state.RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexports.BidiSpan = BidiSpan;\nexports.BlockInfo = BlockInfo;\nexports.Decoration = Decoration;\nexports.EditorView = EditorView;\nexports.GutterMarker = GutterMarker;\nexports.MatchDecorator = MatchDecorator;\nexports.ViewPlugin = ViewPlugin;\nexports.ViewUpdate = ViewUpdate;\nexports.WidgetType = WidgetType;\nexports.__test = __test;\nexports.closeHoverTooltips = closeHoverTooltips;\nexports.crosshairCursor = crosshairCursor;\nexports.drawSelection = drawSelection;\nexports.dropCursor = dropCursor;\nexports.getPanel = getPanel;\nexports.getTooltip = getTooltip;\nexports.gutter = gutter;\nexports.gutterLineClass = gutterLineClass;\nexports.gutters = gutters;\nexports.hasHoverTooltips = hasHoverTooltips;\nexports.highlightActiveLine = highlightActiveLine;\nexports.highlightActiveLineGutter = highlightActiveLineGutter;\nexports.highlightSpecialChars = highlightSpecialChars;\nexports.hoverTooltip = hoverTooltip;\nexports.keymap = keymap;\nexports.lineNumberMarkers = lineNumberMarkers;\nexports.lineNumbers = lineNumbers;\nexports.logException = logException;\nexports.panels = panels;\nexports.placeholder = placeholder;\nexports.rectangularSelection = rectangularSelection;\nexports.repositionTooltips = repositionTooltips;\nexports.runScopeHandlers = runScopeHandlers;\nexports.scrollPastEnd = scrollPastEnd;\nexports.showPanel = showPanel;\nexports.showTooltip = showTooltip;\nexports.tooltips = tooltips;\n\n};"],
"names":["shadow$provide","global","require","module","exports","getSelection","root","target","nodeType","ownerDocument","contains","dom","node","parentNode","hasSelection","selection","anchorNode","_","clientRectsFor","textRange","nodeValue","length","getClientRects","isEquivalentPosition","off","targetNode","targetOff","scanFor","domIndex","index","previousSibling","dir","maxOffset","nodeName","parent","childNodes","contentEditable","flattenRect","rect","left","x","right","top","bottom","scrollRectIntoView","side","y","xMargin","yMargin","ltr","doc","win","defaultView","cur","body","innerWidth","innerHeight","scrollHeight","clientHeight","scrollWidth","clientWidth","getBoundingClientRect","moveY","moveX","rectHeight","targetTop","boundingHeight","targetLeft","scrollBy","start","scrollTop","scrollLeft","assignedSlot","host","focusPreventScroll","setActive","preventScrollSupported","focus","stack","push","preventScroll","undefined","i","elt","from","to","range","scratchRange","document","createRange","setEnd","setStart","dispatchKey","name","code","options","key","keyCode","which","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","getRoot","clearAttributes","attributes","removeAttributeNode","rm$1","next","nextSibling","removeChild","replaceRange","fromI","fromOff","toI","toOff","insert","breakAtStart","openStart","openEnd","children","before","last","breakAtEnd","breakAfter","merge","after","split","shift","become","pop","replaceChildren","mergeChildrenInto","childCursor","findPos","dLen","view","textCoords","text","pos","flatten","browser","chrome","gecko","rects","Rect0","safari","width","Array","prototype","find","call","r","scanCompositionTree","enterView","fromText","MarkView","child","hasComp","len","getSide","posFromDOMInCompositionTree","offset","localPosFromDOM","Math","min","inlineDOMAtPos","end","domAtPos","DOMPos","joinInlineInto","open","mark","eq","setParent","coordsInChildren","coordsAt","max","lastChild","combineAttrs","source","class","style","attrsEq","a","b","keysA","Object","keys","keysB","indexOf","updateAttrs","prev","attrs","changed","removeAttribute","setAttribute","getInclusive","spec","block","inclusive","addRange","ranges","margin","wrapMarks","active","logException","state","exception","context","handler","facet","exceptionSink","window","onerror","String","console","error","dec","str","result","computeOrder","line","direction","outerType","LTR","oppositeType","BidiRE","test","BidiSpan","prevStrong","charCodeAt","type","ch","LowTypes","ArabicTypes","types","replace","j","sI","br","Brackets","sJ","BracketStack","flags","embed","beforeL","order","rtl","l","moveVisually","forward","_a","startIndex","head","spanI","level","bidiLevel","assoc","span","indexForward","nextIndex","findClusterBreak","movedOver","slice","EditorSelection","cursor","nextSpan","isBlockElement","compositionSurroundingNode","sel","observer","selectionRange","textNode","focusNode","nearbyTextNode","focusOffset","cView","docView","nearest","LineView","topNode","ContentView","get","posAtEnd","posAtStart","computeCompositionDeco","changes","surrounding","Decoration","none","newFrom","mapPos","newTo","readRange","DOMReader","firstChild","sliceString","LineBreakPlaceholder","topView","CompositionView","widget","set","CompositionWidget","findChangedDeco","diff","comp","DecorationComparator$1","RangeSet","compare","groupAt","state$1","bias","categorize","charCategorizer","lineAt","linePos","cat","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestX","above","below","aboveRect","belowRect","dx","dy","domPosInText","closestY","clipX","closestOffset","closestDY","generalSide","rectBefore","posAtCoords","precise","content","contentDOM","docTop","viewState","paddingTop","docHeight","yOffset","halfLine","defaultLineHeight","bounced","elementAtHeight","BlockType","Text","lineStart","viewport","posAtCoordsImprecise","elementFromPoint","element","isEditable","caretPositionFromPoint","caretRangeFromPoint","height","posFromDOM","contentRect","into","round","defaultCharacterWidth","lineWrapping","floor","heightOracle","lineLength","sliceDoc","findColumn","tabSize","moveByChar","by","spans","bidiSpans","textDirectionAt","check","char","number","lines","byGroup","nextCat","CharCategory","Space","skipAtoms","oldPos","atoms","atomicRanges","map","f","moved","between","value","isInPrimarySelection","event","main","empty","rangeCount","getRangeAt","clientX","clientY","eventBelongsToEditor","bubbles","ignoreEvent","capturePaste","appendChild","createElement","cssText","setTimeout","remove","doPaste","input","toText","byLine","lastLinewiseCopy","every","toString","lastLine","changeByRange","lineBreak","replaceSelection","dispatch","userEvent","scrollIntoView","rangeForClick","visual","queryPos","getClickType","BadMouseDetail","detail","lastMouseDown","lastTime","lastMouseDownTime","Date","now","lastMouseDownCount","abs","basicMouseSelection","startSel","lastEvent","update","docChanged","extend","multiple","startRange","create","dropText","direct","dropPos","preventDefault","mouseSelection","inputState","del","dragging","dragMove","ins","anchor","captureCopy","selectionEnd","selectionStart","updateForFocusChange","hasFocus","notifiedFocused","forceClearComposition","rapid","compositionDeco","size","rapidCompositionStart","mergeGaps","nodes","around","HeightMapGap","splice","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","getComputedStyle","overflow","parentRect","position","offsetParent","fullPixelRange","lineStructure","stateDeco","total","point","findPosition","ratio","dist","findFraction","structure","counted","cutRange","pieces","array","val","scaleBlock","scaler","scale","bTop","toDOM","bBottom","BlockInfo","isArray","buildTheme","scopes","styleMod","StyleModule","finish","m","RangeError","findChild","curView","safariSelectionRangeHack","read","stopImmediatePropagation","found","getTargetRanges","addEventListener","execCommand","removeEventListener","startContainer","anchorOffset","startOffset","endContainer","endOffset","curAnchor","applyDOMChange","typeOver","change","bounds","domBoundsAround","readOnly","selPoints","impreciseHead","impreciseAnchor","selectionPoints","reader","startDOM","endDOM","preferredPos","preferredSide","lastKeyCode","lastKeyTime","android","findDiff","toB","toA","of","newSel","selectionFromPoints","editable","domSel","iHead","iAnchor","single","append","mac","startState","ios","flushIOSKey","inputHandler","some","h","composing","tr","mainSel","newLength","replaced","compositionRange","rangeChanges","selOff","compositionFirstChange","lastSelectionTime","lastSelectionOrigin","minLen","adjust","move","activeElement","DOMPoint","points","base","attrsFromFacet","sources","modifiers","altKey","ctrlKey","metaKey","shiftKey","getKeymap","bindings","keymap","Keymaps","buildKeymap","reduce","concat","platform","currentPlatform","bound","isPrefix","checkPrefix","is","current","Error","add","scope","command","scopeObj","parts","k","alt","ctrl","meta","mod","prefix","join","commands","ourObj","storedPrefix","PrefixTimeout","full","binding","run","runHandlers","w3cKeyname","keyName","charCode","codePointAt","isChar","codePointSize","fallthrough","modifierCodes","runFor","cmd","baseName","getBase","scrollDOM","textDirection","Direction","wrappedLine","inside","moveToLineBoundary","blockAt","lineBlockAt","measureRange","piece","Piece","horizontal","drawForLine","addSpan","fromOpen","toOpen","fromCoords","coordsAtPos","toCoords","leftSide","rightSide","visibleRanges","endPos","docLine","spanFrom","spanTo","drawForWidget","lineStyle","parseInt","paddingLeft","textIndent","paddingRight","startBlock","endBlock","visualStart","visualEnd","measureCursor","primary","iterMatches","re","lastIndex","iterRange","done","exec","matchRanges","maxLength","visible","specialCharPlugin","_plugin","ViewPlugin","fromClass","constructor","decorations","decorationCache","decorator","makeDecorator","specialCharConfig","createDeco","conf","MatchDecorator","regexp","specialChars","decoration","col","countColumn","TabWidget","SpecialCharWidget","boundary","replaceTabs","updateDeco","v","getPos","MaxOff","ref","rectangleSelectionStyle","newStart","newLine","_extend","startLine","endLine","startOff","endOff","startCol","endCol","windowSpace","rm","gutters","config","gutterView","fixed","unfixGutters","asArray","advanceCursor","collect","formatNumber","lineNumberConfig","maxLineNumber","defineProperty","DOMSelectionState","setRange","noChildren","dirty","editorView","posBefore","posAfter","_pos","_side","sync","track","contentView","reuseDOM","written","insertBefore","_dom","fromStart","toEnd","prevEnd","markDirty","andParent","markParentsDirty","childList","setDOM","cmView","destroy","ignoreMutation","_rec","_event","ChildCursor","childPos","hasStart","other","nav","navigator","userAgent","vendor","documentElement","ie_edge","ie_upto10","ie_11up","ie","webkit","maxTouchPoints","windows","linux","ie_version","documentMode","gecko_version","chrome_version","webkit_version","TextView","createDOM","textDOM","createTextNode","MaxJoinLen","_from","_to","setAttrs","className","tagName","toUpperCase","_hasStart","detachFrom","WidgetView","prevWidget","customView","updateDOM","p","WidgetBufferView","imgRect","nextRect","siblingRect","WidgetType","RangeValue","startSide","endSide","MarkDecoration","PointDecoration","isBlockGap","LineDecoration","sort","hasHeight","estimatedHeight","mapMode","MapMode","TrackBefore","isReplace","TrackAfter","TrackDel","WidgetRange","WidgetBefore","WidgetAfter","arguments","prevAttrs","transferDOM","setDeco","at","addLineDeco","deco","cls","classList","hack","cmIgnore","measureTextSize","totalWidth","lineHeight","charWidth","_other","BlockWidgetView","_takeDeco","ContentBuilder","disallowBlockEffectsFor","curLine","pendingBuffer","atCursorPos","textOff","iter","skip","posCovered","getLine","flushBuffer","addBlockWidget","buildText","take","NullWidget","cursorBefore","cursorAfter","build","dynamicDecorationMap","builder","tag","toLowerCase","clickAddsSelectionRange","Facet","define","dragMovesSelection$1","mouseSelectionStyle","updateListener","perLineTextDirection","combine","values","ScrollTarget","StateEffect","t","nextPluginID","viewPlugin","id","domEventHandlers","buildExtensions","extension","eventHandlers","provide","plugin","ext","pluginInst","PluginInstance","mustUpdate","e","deactivate","editorAttributes","contentAttributes","scrollMargins","styleModule","ChangedRange","fromA","fromB","addToSet","me","extendWithRanges","dI","rI","posA","posB","ViewUpdate","transactions","ChangeSet","compose","changedRanges","iterChangedRanges","RTL","maybe","lineSeparator","EditorState","findPointBefore","readNode","nextView","readTextNode","nextBreak","breakSize","fromView","overrideDOMText","findPointInside","maxLen","DocView","minWidthTo","minWidthFrom","minWidth","forceSelection","lastUpdate","updateInner","prevDeco","decoDiff","oldLength","mustMeasureContent","updateChildren","ignore","contentHeight","flexBasis","gaps","BlockGapWidget","updateGaps","updateSelection","mustRead","fromPointer","readSelectionRange","mayControlSelection","force","dummy","blur","rawSel","nextTo","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","enforceCursorAssoc","modify","domView","rootView","measureVisibleLineHeights","contentWidth","isWider","widest","childRect","measure","textContent","computeBlockGapDeco","vs","viewports","allDeco","d","lineGapDeco","mRight","mLeft","mTop","mBottom","margins","targetRect","compareRange","comparePoint","InputState","chromeScrollHack","pendingIOSKey","lastContextMenu","lastEscPress","scrollHandlers","registeredEvents","customHandlers","compositionEndedAt","handlers","ignoreDuringComposition","keydown","mustFlushObserver","forceFlush","runCustomHandlers","pointerEvents","clearTimeout","passive","setSelectionOrigin","origin","ensureHandlers","plugins","runScrollHandlers","scroll","delayAndroidKey","pending","PendingKeys","startMouseSelection","inputType","MouseSelection","startEvent","mustSelect","bind","select","buttons","brokenClipboardAPI","handlers.keydown","lastTouch","touchstart","handlers.touchstart","touchmove","handlers.touchmove","mousedown","handlers.mousedown","flush","makeStyle","button","mustFocus","dragstart","handlers.dragstart","dataTransfer","setData","effectAllowed","drop","handlers.drop","files","finishFile","filter","s","FileReader","onload","reader.onload","readAsText","getData","paste","handlers.paste","data","clipboardData","copy","cut","handlers.cut","linewise","upto","clearData","handlers.blur","clearSelectionRange","compositionstart","compositionupdate","handlers.compositionupdate","compositionend","handlers.compositionend","contextmenu","handlers.contextmenu","beforeinput","handlers.beforeinput","startViewHeight","visualViewport","wrappingWhiteSpace","HeightOracle","heightSamples","heightChanged","heightForGap","ceil","heightForLine","setDoc","mustRefreshForWrapping","whiteSpace","mustRefreshForHeights","lineHeights","newHeight","refresh","knownHeights","MeasuredHeights","heights","QueryType","HeightMap","setHeight","oracle","Epsilon","decomposeLeft","decomposeRight","applyChanges","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","break","brk","HeightMapBranch","HeightMapBlock","_height","_doc","_value","_type","forEachLine","_force","measured","more","outdated","widgetHeight","collapsed","firstLine","ByHeight","first","unshift","singleHeight","wasChanged","mid","rightTop","rightOffset","subQuery","ByPos","rightStart","balanced","rebalance","lineEnd","covering","writtenTo","isCovered","heightRelevant","addBlock","relevantWidgetHeight","enterLine","blankContent","gap","ensureLine","LineGap","same","gA","gB","draw","wrapping","LineGapWidget","vertical","display","ViewState","pixelViewport","inView","editorWidth","editorHeight","contentDOMHeight","contentDOMWidth","paddingBottom","IdScaler","scrollTarget","printing","defaultTextDirection","mustEnforceCursorAssoc","heightMap","getViewport","updateViewportLines","updateForViewport","lineGaps","ensureLineGaps","computeVisibleRanges","Viewport","BigScaler","viewportLines","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLines","updateLineGaps","mapLineGaps","selectionSet","measureContent","dTop","dBottom","vp","viewportChange","fromDOM","marginTop","visibleTop","visibleBottom","viewHeight","topPos","mapped","touchesRange","viewFrom","viewTo","marginHeight","marginWidth","outside","gapSize","fraction","lineBlockAtHeight","n","vpHeight","domBase","domTop","domBottom","obj","theme","strs","darkTheme","baseThemeID","newName","baseLightID","baseDarkID","lightDarkIDs","baseTheme$1","boxSizing","outline","flexDirection","alignItems","fontFamily","overflowX","zIndex","flexGrow","flexShrink","minHeight","wordWrap","padding","WebkitUserModify","whiteSpace_fallback","wordBreak","overflowWrap","caretColor","contain","background","animation","visibility","borderLeft","marginLeft","borderLeftColor","backgroundColor","color","borderRight","textAlign","borderBottom","borderTop","verticalAlign","fontSize","borderRadius","backgroundImage","border","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","onChange","onScrollChanged","selectionChanged","resizeTimeout","delayedFlush","queue","delayedAndroidKey","scrollTargets","resize","intersection","intersecting","gapIntersection","parentCheck","MutationObserver","mutations","mut","removedNodes","oldValue","flushSoon","onCharData","this.onCharData","prevValue","onSelectionChange","onResize","ResizeObserver","observe","onPrint","onScroll","IntersectionObserver","entries","listenForScroll","intersectionRatio","createEvent","requestMeasure","g","disconnect","shadowRoot","stop","clear","processRecords","requestAnimationFrame","records","takeRecords","record","readMutation","readSelection","handled","rec","childBefore","childAfter","_b","_c","EditorView","pluginMap","Map","editorAttrs","contentAttrs","bidiCache","destroyed","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","mountStyles","Transaction","redrawn","attrsChanged","phrases","setState","effects","CachedOrder","updatePlugins","styleModules","showAnnouncements","isUserEvent","listener","newState","hadFocus","prevSpecs","specs","newPlugins","cancelAnimationFrame","updated","oldViewport","warn","measuring","BadMeasure","scrolled","write","themeClasses","spellcheck","autocorrect","autocapitalize","translate","contenteditable","role","changedContent","changedEditor","trs","effect","announce","div","mount","reverse","readMeasured","request","known","moveByGroup","initial","includeWrap","coords","editorRect","lineView","moveVertically","distance","startPos","goal","goalColumn","startCoords","documentTop","startY","resolvedGoal","extra","curY","posAtDOM","perLine","MaxBidiLine","entry","dark","baseTheme","Prec","lowest","findFromDOM","querySelector","dragMovesSelection","cache","lastDir","handleKeyEvents","enables","WeakMap","CanHidePrimary","selectionConfig","configs","combineConfig","cursorBlinkRate","drawRangeCursor","drawSelectionPlugin","rangePieces","cursors","measureReq","readPos","drawSel","selectionLayer","cursorLayer","setBlinkRate","animationDuration","confChanged","geometryChanged","viewportChanged","animationName","prim","c","oldCursors","forEach","idx","themeSpec","hideNativeSelection","highest","setDropCursorPos","mapping","dropCursorPos","StateField","drawDropCursor","drawCursor","cursorPos","field","outer","setDropPos","dragover","dragleave","relatedTarget","dragend","getDeco","RangeSetBuilder","changeFrom","changeTo","iterChanges","_f","_t","updateRange","updateFrom","updateTo","fromLine","toLine","filterFrom","filterTo","UnicodeRegexpSupport","unicode","Specials","RegExp","Names","_supportsTabSize","render","addSpecialChars","styles","MozTabSize","DefaultPlaceholder","fromCharCode","desc","phrase","custom","ph","title","lineDeco","activeLineHighlighter","lastLineStart","Placeholder","wrap","Alt","Control","Shift","Meta","showCrosshair","TooltipViewManager","createTooltipView","tooltips","tooltipViews","tip","tooltipView","tooltipConfig","tooltipSpace","tooltipPlugin","lastTransaction","measureTimeout","classes","createContainer","readMeasure","writeMeasure","manager","showTooltip","createTooltip","intersectionObserver","measureSoon","threshold","observeIntersection","maybeMeasure","container","tooltip","shouldMeasure","newConfig","arrow","Outside","editor","tv","getCoords","space","others","tView","arrowHeight","noOffset","strictSide","overlap","toggle","positioned","borderTopColor","borderBottomColor","showHoverTooltip","HoverTooltipHost","mounted","createHostedView","hostedView","showHoverTooltipHost","compute","HoverPlugin","setHover","hoverTime","restartTimeout","hoverTimeout","lastMove","time","checkHover","mouseleave","mousemove","startHover","hovered","posCoords","bidi","then","detach","closeHoverTooltipEffect","closeHoverTooltips","panelConfig","topContainer","bottomContainer","panelPlugin","showPanel","panels","PanelGroup","syncClasses","panel","scrollMargin","syncDOM","curDOM","GutterMarker","elementClass","gutterLineClass","defaults","renderEmptyElements","elementStyle","markers","lineMarker","lineMarkerChange","initialSpacer","updateSpacer","activeGutters","prevViewport","SingleGutterView","gutter","syncGutters","updateGutters","vpA","vpB","lineClasses","classSet","contexts","UpdateContext","documentPadding","viewportLineBlocks","cx","offsetWidth","localMarkers","extraMarkers","forLine","elements","newElt","GutterElement","spacer","prop","prevMarkers","setMarkers","domPos","iNew","iOld","skipTo","marker","matched","lineNumberMarkers","assign","exists","NumberMarker","lineNumberGutter","activeLineGutterMarker","activeLineGutterHighlighter","marks","__test","crosshairCursor","getter","isDown","keyup","drawSelection","dropCursor","getPanel","getTooltip","hasHoverTooltips","highlightActiveLine","highlightActiveLineGutter","highlightSpecialChars","hoverTooltip","hoverState","hideOnChange","hideOn","newPos","lineNumbers","placeholder","rectangularSelection","eventFilter","repositionTooltips","runScopeHandlers","scrollPastEnd"]
}
